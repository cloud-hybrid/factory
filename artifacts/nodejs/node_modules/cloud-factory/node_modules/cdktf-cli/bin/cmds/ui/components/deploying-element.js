"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.DeployingElement = exports.DeployingElementStatus = void 0;
const react_1 = __importDefault(require("react"));
const ink_1 = require("ink");
const ink_spinner_1 = __importDefault(require("ink-spinner"));
const terraform_1 = require("../models/terraform");
const resource_name_1 = require("./resource-name");
exports.DeployingElementStatus = ({ resource, }) => {
    let actionSymbol;
    let color;
    switch (resource.applyState) {
        case terraform_1.DeployingResourceApplyState.CREATING:
            actionSymbol = "+";
            color = "green";
            break;
        case terraform_1.DeployingResourceApplyState.CREATED:
            actionSymbol = "\u2714";
            color = "green";
            break;
        case terraform_1.DeployingResourceApplyState.UPDATING:
            actionSymbol = "~";
            color = "yellow";
            break;
        case terraform_1.DeployingResourceApplyState.UPDATED:
            actionSymbol = "\u2714";
            color = "yellow";
            break;
        case terraform_1.DeployingResourceApplyState.DESTROYING:
            actionSymbol = "-";
            color = "red";
            break;
        case terraform_1.DeployingResourceApplyState.DESTROYED:
            actionSymbol = "\u2714";
            color = "red";
            break;
        case terraform_1.DeployingResourceApplyState.WAITING:
            actionSymbol = "~";
            color = "cyan";
            break;
        case terraform_1.DeployingResourceApplyState.SUCCESS:
            actionSymbol = "\u2714";
            color = "green";
            break;
        case terraform_1.DeployingResourceApplyState.ERROR:
            actionSymbol = "x";
            color = "red";
            break;
    }
    const inProgress = [
        terraform_1.DeployingResourceApplyState.CREATING,
        terraform_1.DeployingResourceApplyState.UPDATING,
        terraform_1.DeployingResourceApplyState.DESTROYING,
    ].includes(resource.applyState);
    return (react_1.default.createElement(react_1.default.Fragment, null, inProgress ? (react_1.default.createElement(ink_1.Text, { color: color },
        react_1.default.createElement(ink_spinner_1.default, null),
        "\u00A0")) : (react_1.default.createElement(ink_1.Text, { color: color },
        actionSymbol,
        "\u00A0"))));
};
exports.DeployingElement = ({ resource, stackName, }) => (react_1.default.createElement(ink_1.Box, { key: resource.id },
    react_1.default.createElement(exports.DeployingElementStatus, { resource: resource }),
    react_1.default.createElement(resource_name_1.ResourceName, { name: resource.id, stackName: stackName })));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVwbG95aW5nLWVsZW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkZXBsb3lpbmctZWxlbWVudC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsa0RBQTBCO0FBQzFCLDZCQUFnQztBQUNoQyw4REFBa0M7QUFDbEMsbURBRzZCO0FBQzdCLG1EQUErQztBQU1sQyxRQUFBLHNCQUFzQixHQUFHLENBQUMsRUFDckMsUUFBUSxHQUNvQixFQUFFLEVBQUU7SUFDaEMsSUFBSSxZQUFvQixDQUFDO0lBQ3pCLElBQUksS0FBYSxDQUFDO0lBRWxCLFFBQVEsUUFBUSxDQUFDLFVBQVUsRUFBRTtRQUMzQixLQUFLLHVDQUEyQixDQUFDLFFBQVE7WUFDdkMsWUFBWSxHQUFHLEdBQUcsQ0FBQztZQUNuQixLQUFLLEdBQUcsT0FBTyxDQUFDO1lBQ2hCLE1BQU07UUFDUixLQUFLLHVDQUEyQixDQUFDLE9BQU87WUFDdEMsWUFBWSxHQUFHLFFBQVEsQ0FBQztZQUN4QixLQUFLLEdBQUcsT0FBTyxDQUFDO1lBQ2hCLE1BQU07UUFDUixLQUFLLHVDQUEyQixDQUFDLFFBQVE7WUFDdkMsWUFBWSxHQUFHLEdBQUcsQ0FBQztZQUNuQixLQUFLLEdBQUcsUUFBUSxDQUFDO1lBQ2pCLE1BQU07UUFDUixLQUFLLHVDQUEyQixDQUFDLE9BQU87WUFDdEMsWUFBWSxHQUFHLFFBQVEsQ0FBQztZQUN4QixLQUFLLEdBQUcsUUFBUSxDQUFDO1lBQ2pCLE1BQU07UUFDUixLQUFLLHVDQUEyQixDQUFDLFVBQVU7WUFDekMsWUFBWSxHQUFHLEdBQUcsQ0FBQztZQUNuQixLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQ2QsTUFBTTtRQUNSLEtBQUssdUNBQTJCLENBQUMsU0FBUztZQUN4QyxZQUFZLEdBQUcsUUFBUSxDQUFDO1lBQ3hCLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDZCxNQUFNO1FBQ1IsS0FBSyx1Q0FBMkIsQ0FBQyxPQUFPO1lBQ3RDLFlBQVksR0FBRyxHQUFHLENBQUM7WUFDbkIsS0FBSyxHQUFHLE1BQU0sQ0FBQztZQUNmLE1BQU07UUFDUixLQUFLLHVDQUEyQixDQUFDLE9BQU87WUFDdEMsWUFBWSxHQUFHLFFBQVEsQ0FBQztZQUN4QixLQUFLLEdBQUcsT0FBTyxDQUFDO1lBQ2hCLE1BQU07UUFDUixLQUFLLHVDQUEyQixDQUFDLEtBQUs7WUFDcEMsWUFBWSxHQUFHLEdBQUcsQ0FBQztZQUNuQixLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQ2QsTUFBTTtLQUNUO0lBRUQsTUFBTSxVQUFVLEdBQUc7UUFDakIsdUNBQTJCLENBQUMsUUFBUTtRQUNwQyx1Q0FBMkIsQ0FBQyxRQUFRO1FBQ3BDLHVDQUEyQixDQUFDLFVBQVU7S0FDdkMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBRWhDLE9BQU8sQ0FDTCw4REFDRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQ1osOEJBQUMsVUFBSSxJQUFDLEtBQUssRUFBRSxLQUFLO1FBQ2hCLDhCQUFDLHFCQUFPLE9BQUc7aUJBRU4sQ0FDUixDQUFDLENBQUMsQ0FBQyxDQUNGLDhCQUFDLFVBQUksSUFBQyxLQUFLLEVBQUUsS0FBSztRQUFHLFlBQVk7aUJBQWMsQ0FDaEQsQ0FDQSxDQUNKLENBQUM7QUFDSixDQUFDLENBQUM7QUFPVyxRQUFBLGdCQUFnQixHQUFHLENBQUMsRUFDL0IsUUFBUSxFQUNSLFNBQVMsR0FDYSxFQUFFLEVBQUUsQ0FBQyxDQUMzQiw4QkFBQyxTQUFHLElBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxFQUFFO0lBQ25CLDhCQUFDLDhCQUFzQixJQUFDLFFBQVEsRUFBRSxRQUFRLEdBQUk7SUFDOUMsOEJBQUMsNEJBQVksSUFBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxHQUFJLENBQ3JELENBQ1AsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRleHQsIEJveCB9IGZyb20gXCJpbmtcIjtcbmltcG9ydCBTcGlubmVyIGZyb20gXCJpbmstc3Bpbm5lclwiO1xuaW1wb3J0IHtcbiAgRGVwbG95aW5nUmVzb3VyY2VBcHBseVN0YXRlLFxuICBEZXBsb3lpbmdSZXNvdXJjZSxcbn0gZnJvbSBcIi4uL21vZGVscy90ZXJyYWZvcm1cIjtcbmltcG9ydCB7IFJlc291cmNlTmFtZSB9IGZyb20gXCIuL3Jlc291cmNlLW5hbWVcIjtcblxuaW50ZXJmYWNlIERlcGxveWluZ0VsZW1lbnRTdGF0dXNQcm9wcyB7XG4gIHJlc291cmNlOiBEZXBsb3lpbmdSZXNvdXJjZTtcbn1cblxuZXhwb3J0IGNvbnN0IERlcGxveWluZ0VsZW1lbnRTdGF0dXMgPSAoe1xuICByZXNvdXJjZSxcbn06IERlcGxveWluZ0VsZW1lbnRTdGF0dXNQcm9wcykgPT4ge1xuICBsZXQgYWN0aW9uU3ltYm9sOiBzdHJpbmc7XG4gIGxldCBjb2xvcjogc3RyaW5nO1xuXG4gIHN3aXRjaCAocmVzb3VyY2UuYXBwbHlTdGF0ZSkge1xuICAgIGNhc2UgRGVwbG95aW5nUmVzb3VyY2VBcHBseVN0YXRlLkNSRUFUSU5HOlxuICAgICAgYWN0aW9uU3ltYm9sID0gXCIrXCI7XG4gICAgICBjb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRGVwbG95aW5nUmVzb3VyY2VBcHBseVN0YXRlLkNSRUFURUQ6XG4gICAgICBhY3Rpb25TeW1ib2wgPSBcIlxcdTI3MTRcIjtcbiAgICAgIGNvbG9yID0gXCJncmVlblwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBEZXBsb3lpbmdSZXNvdXJjZUFwcGx5U3RhdGUuVVBEQVRJTkc6XG4gICAgICBhY3Rpb25TeW1ib2wgPSBcIn5cIjtcbiAgICAgIGNvbG9yID0gXCJ5ZWxsb3dcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRGVwbG95aW5nUmVzb3VyY2VBcHBseVN0YXRlLlVQREFURUQ6XG4gICAgICBhY3Rpb25TeW1ib2wgPSBcIlxcdTI3MTRcIjtcbiAgICAgIGNvbG9yID0gXCJ5ZWxsb3dcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRGVwbG95aW5nUmVzb3VyY2VBcHBseVN0YXRlLkRFU1RST1lJTkc6XG4gICAgICBhY3Rpb25TeW1ib2wgPSBcIi1cIjtcbiAgICAgIGNvbG9yID0gXCJyZWRcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRGVwbG95aW5nUmVzb3VyY2VBcHBseVN0YXRlLkRFU1RST1lFRDpcbiAgICAgIGFjdGlvblN5bWJvbCA9IFwiXFx1MjcxNFwiO1xuICAgICAgY29sb3IgPSBcInJlZFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBEZXBsb3lpbmdSZXNvdXJjZUFwcGx5U3RhdGUuV0FJVElORzpcbiAgICAgIGFjdGlvblN5bWJvbCA9IFwiflwiO1xuICAgICAgY29sb3IgPSBcImN5YW5cIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRGVwbG95aW5nUmVzb3VyY2VBcHBseVN0YXRlLlNVQ0NFU1M6XG4gICAgICBhY3Rpb25TeW1ib2wgPSBcIlxcdTI3MTRcIjtcbiAgICAgIGNvbG9yID0gXCJncmVlblwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBEZXBsb3lpbmdSZXNvdXJjZUFwcGx5U3RhdGUuRVJST1I6XG4gICAgICBhY3Rpb25TeW1ib2wgPSBcInhcIjtcbiAgICAgIGNvbG9yID0gXCJyZWRcIjtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY29uc3QgaW5Qcm9ncmVzcyA9IFtcbiAgICBEZXBsb3lpbmdSZXNvdXJjZUFwcGx5U3RhdGUuQ1JFQVRJTkcsXG4gICAgRGVwbG95aW5nUmVzb3VyY2VBcHBseVN0YXRlLlVQREFUSU5HLFxuICAgIERlcGxveWluZ1Jlc291cmNlQXBwbHlTdGF0ZS5ERVNUUk9ZSU5HLFxuICBdLmluY2x1ZGVzKHJlc291cmNlLmFwcGx5U3RhdGUpO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtpblByb2dyZXNzID8gKFxuICAgICAgICA8VGV4dCBjb2xvcj17Y29sb3J9PlxuICAgICAgICAgIDxTcGlubmVyIC8+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvVGV4dD5cbiAgICAgICkgOiAoXG4gICAgICAgIDxUZXh0IGNvbG9yPXtjb2xvcn0+e2FjdGlvblN5bWJvbH0mbmJzcDs8L1RleHQ+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xufTtcblxuaW50ZXJmYWNlIERlcGxveWluZ0VsZW1lbnRQcm9wcyB7XG4gIHJlc291cmNlOiBEZXBsb3lpbmdSZXNvdXJjZTtcbiAgc3RhY2tOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgRGVwbG95aW5nRWxlbWVudCA9ICh7XG4gIHJlc291cmNlLFxuICBzdGFja05hbWUsXG59OiBEZXBsb3lpbmdFbGVtZW50UHJvcHMpID0+IChcbiAgPEJveCBrZXk9e3Jlc291cmNlLmlkfT5cbiAgICA8RGVwbG95aW5nRWxlbWVudFN0YXR1cyByZXNvdXJjZT17cmVzb3VyY2V9IC8+XG4gICAgPFJlc291cmNlTmFtZSBuYW1lPXtyZXNvdXJjZS5pZH0gc3RhY2tOYW1lPXtzdGFja05hbWV9IC8+XG4gIDwvQm94PlxuKTtcbiJdfQ==