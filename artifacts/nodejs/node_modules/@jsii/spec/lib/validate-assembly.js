"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateAssembly = exports.schema = void 0;
const jsonschema_1 = require("jsonschema");
// eslint-disable-next-line @typescript-eslint/no-require-imports, @typescript-eslint/no-var-requires
exports.schema = require('../schema/jsii-spec.schema.json');
function validateAssembly(obj) {
    const validator = new jsonschema_1.Validator();
    validator.addSchema(exports.schema); // For definitions
    const result = validator.validate(obj, exports.schema, { nestedErrors: true });
    if (result.valid) {
        return obj;
    }
    throw new Error(`Invalid assembly:\n${result.toString()}`);
}
exports.validateAssembly = validateAssembly;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGUtYXNzZW1ibHkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ2YWxpZGF0ZS1hc3NlbWJseS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQ0FBK0M7QUFJL0MscUdBQXFHO0FBQ3hGLFFBQUEsTUFBTSxHQUFXLE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0FBRXpFLFNBQWdCLGdCQUFnQixDQUFDLEdBQVE7SUFDdkMsTUFBTSxTQUFTLEdBQUcsSUFBSSxzQkFBUyxFQUFFLENBQUM7SUFDbEMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxjQUFNLENBQUMsQ0FBQyxDQUFDLGtCQUFrQjtJQUMvQyxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxjQUFNLEVBQUUsRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN2RSxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUU7UUFDaEIsT0FBTyxHQUFHLENBQUM7S0FDWjtJQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLE1BQU0sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDN0QsQ0FBQztBQVJELDRDQVFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBWYWxpZGF0b3IgfSBmcm9tICdqc29uc2NoZW1hJztcblxuaW1wb3J0IHsgQXNzZW1ibHkgfSBmcm9tICcuL2Fzc2VtYmx5JztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMsIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbmV4cG9ydCBjb25zdCBzY2hlbWE6IFNjaGVtYSA9IHJlcXVpcmUoJy4uL3NjaGVtYS9qc2lpLXNwZWMuc2NoZW1hLmpzb24nKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQXNzZW1ibHkob2JqOiBhbnkpOiBBc3NlbWJseSB7XG4gIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IoKTtcbiAgdmFsaWRhdG9yLmFkZFNjaGVtYShzY2hlbWEpOyAvLyBGb3IgZGVmaW5pdGlvbnNcbiAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yLnZhbGlkYXRlKG9iaiwgc2NoZW1hLCB7IG5lc3RlZEVycm9yczogdHJ1ZSB9KTtcbiAgaWYgKHJlc3VsdC52YWxpZCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzc2VtYmx5OlxcbiR7cmVzdWx0LnRvU3RyaW5nKCl9YCk7XG59XG4iXX0=