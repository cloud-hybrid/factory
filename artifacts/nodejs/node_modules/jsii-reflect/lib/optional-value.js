"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.OptionalValue = void 0;
const type_ref_1 = require("./type-ref");
class OptionalValue {
    constructor(system, spec) {
        this.system = system;
        this.spec = spec;
    }
    static describe(optionalValue) {
        let description = optionalValue.type.toString();
        if (optionalValue.optional && !optionalValue.type.isAny) {
            description = `Optional<${description}>`;
        }
        return description;
    }
    toString() {
        return OptionalValue.describe(this);
    }
    get type() {
        var _a;
        return new type_ref_1.TypeReference(this.system, (_a = this.spec) === null || _a === void 0 ? void 0 : _a.type);
    }
    get optional() {
        var _a;
        return !!((_a = this.spec) === null || _a === void 0 ? void 0 : _a.optional);
    }
}
exports.OptionalValue = OptionalValue;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9uYWwtdmFsdWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJvcHRpb25hbC12YWx1ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSx5Q0FBMkM7QUFHM0MsTUFBYSxhQUFhO0lBV3hCLFlBQ2tCLE1BQWtCLEVBQ2xCLElBQXlCO1FBRHpCLFdBQU0sR0FBTixNQUFNLENBQVk7UUFDbEIsU0FBSSxHQUFKLElBQUksQ0FBcUI7SUFDeEMsQ0FBQztJQWJHLE1BQU0sQ0FBQyxRQUFRLENBQUMsYUFBNEI7UUFDakQsSUFBSSxXQUFXLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUVoRCxJQUFJLGFBQWEsQ0FBQyxRQUFRLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUN2RCxXQUFXLEdBQUcsWUFBWSxXQUFXLEdBQUcsQ0FBQztTQUMxQztRQUVELE9BQU8sV0FBVyxDQUFDO0lBQ3JCLENBQUM7SUFPTSxRQUFRO1FBQ2IsT0FBTyxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxJQUFXLElBQUk7O1FBQ2IsT0FBTyxJQUFJLHdCQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sUUFBRSxJQUFJLENBQUMsSUFBSSwwQ0FBRSxJQUFJLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsSUFBVyxRQUFROztRQUNqQixPQUFPLENBQUMsUUFBQyxJQUFJLENBQUMsSUFBSSwwQ0FBRSxRQUFRLENBQUEsQ0FBQztJQUMvQixDQUFDO0NBQ0Y7QUEzQkQsc0NBMkJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMganNpaSBmcm9tICdAanNpaS9zcGVjJztcblxuaW1wb3J0IHsgVHlwZVJlZmVyZW5jZSB9IGZyb20gJy4vdHlwZS1yZWYnO1xuaW1wb3J0IHsgVHlwZVN5c3RlbSB9IGZyb20gJy4vdHlwZS1zeXN0ZW0nO1xuXG5leHBvcnQgY2xhc3MgT3B0aW9uYWxWYWx1ZSB7XG4gIHB1YmxpYyBzdGF0aWMgZGVzY3JpYmUob3B0aW9uYWxWYWx1ZTogT3B0aW9uYWxWYWx1ZSk6IHN0cmluZyB7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gb3B0aW9uYWxWYWx1ZS50eXBlLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAob3B0aW9uYWxWYWx1ZS5vcHRpb25hbCAmJiAhb3B0aW9uYWxWYWx1ZS50eXBlLmlzQW55KSB7XG4gICAgICBkZXNjcmlwdGlvbiA9IGBPcHRpb25hbDwke2Rlc2NyaXB0aW9ufT5gO1xuICAgIH1cblxuICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgfVxuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3lzdGVtOiBUeXBlU3lzdGVtLFxuICAgIHB1YmxpYyByZWFkb25seSBzcGVjPzoganNpaS5PcHRpb25hbFZhbHVlLFxuICApIHt9XG5cbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIE9wdGlvbmFsVmFsdWUuZGVzY3JpYmUodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHR5cGUoKTogVHlwZVJlZmVyZW5jZSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlUmVmZXJlbmNlKHRoaXMuc3lzdGVtLCB0aGlzLnNwZWM/LnR5cGUpO1xuICB9XG5cbiAgcHVibGljIGdldCBvcHRpb25hbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnNwZWM/Lm9wdGlvbmFsO1xuICB9XG59XG4iXX0=