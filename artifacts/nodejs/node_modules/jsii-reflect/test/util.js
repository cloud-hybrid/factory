"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.assemblyFromSource = exports.typeSystemFromSource = void 0;
const jsii_1 = require("jsii");
const lib_1 = require("../lib");
async function typeSystemFromSource(source, cb) {
    const asm = await assemblyFromSource(source, cb);
    return asm.system;
}
exports.typeSystemFromSource = typeSystemFromSource;
async function assemblyFromSource(source, cb) {
    const ass = await jsii_1.sourceToAssemblyHelper(source, cb);
    const ts = new lib_1.TypeSystem();
    return ts.addAssembly(new lib_1.Assembly(ts, ass));
}
exports.assemblyFromSource = assemblyFromSource;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsK0JBQWdGO0FBRWhGLGdDQUE4QztBQUV2QyxLQUFLLFVBQVUsb0JBQW9CLENBQ3hDLE1BQW9DLEVBQ3BDLEVBQStCO0lBRS9CLE1BQU0sR0FBRyxHQUFHLE1BQU0sa0JBQWtCLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2pELE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQztBQUNwQixDQUFDO0FBTkQsb0RBTUM7QUFFTSxLQUFLLFVBQVUsa0JBQWtCLENBQ3RDLE1BQW9DLEVBQ3BDLEVBQStCO0lBRS9CLE1BQU0sR0FBRyxHQUFHLE1BQU0sNkJBQXNCLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3JELE1BQU0sRUFBRSxHQUFHLElBQUksZ0JBQVUsRUFBRSxDQUFDO0lBQzVCLE9BQU8sRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLGNBQVEsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUMvQyxDQUFDO0FBUEQsZ0RBT0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzb3VyY2VUb0Fzc2VtYmx5SGVscGVyLCBNdWx0aXBsZVNvdXJjZUZpbGVzLCBQYWNrYWdlSW5mbyB9IGZyb20gJ2pzaWknO1xuXG5pbXBvcnQgeyBBc3NlbWJseSwgVHlwZVN5c3RlbSB9IGZyb20gJy4uL2xpYic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0eXBlU3lzdGVtRnJvbVNvdXJjZShcbiAgc291cmNlOiBzdHJpbmcgfCBNdWx0aXBsZVNvdXJjZUZpbGVzLFxuICBjYj86IChvYmo6IFBhY2thZ2VJbmZvKSA9PiB2b2lkLFxuKSB7XG4gIGNvbnN0IGFzbSA9IGF3YWl0IGFzc2VtYmx5RnJvbVNvdXJjZShzb3VyY2UsIGNiKTtcbiAgcmV0dXJuIGFzbS5zeXN0ZW07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NlbWJseUZyb21Tb3VyY2UoXG4gIHNvdXJjZTogc3RyaW5nIHwgTXVsdGlwbGVTb3VyY2VGaWxlcyxcbiAgY2I/OiAob2JqOiBQYWNrYWdlSW5mbykgPT4gdm9pZCxcbik6IFByb21pc2U8QXNzZW1ibHk+IHtcbiAgY29uc3QgYXNzID0gYXdhaXQgc291cmNlVG9Bc3NlbWJseUhlbHBlcihzb3VyY2UsIGNiKTtcbiAgY29uc3QgdHMgPSBuZXcgVHlwZVN5c3RlbSgpO1xuICByZXR1cm4gdHMuYWRkQXNzZW1ibHkobmV3IEFzc2VtYmx5KHRzLCBhc3MpKTtcbn1cbiJdfQ==