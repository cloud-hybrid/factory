"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.VisualizeAstVisitor = void 0;
const o_tree_1 = require("../o-tree");
const renderer_1 = require("../renderer");
class VisualizeAstVisitor {
    constructor(includeHandlerNames) {
        this.includeHandlerNames = includeHandlerNames;
        this.defaultContext = undefined;
    }
    mergeContext(_old, _update) {
        return undefined;
    }
    commentRange(node, _context) {
        return new o_tree_1.OTree(['(Comment', node.text], [], { suffix: ')' });
    }
    jsDoc(_node, _context) {
        // Already handled by other doc handlers
        return new o_tree_1.OTree([]);
    }
    sourceFile(node, context) {
        return new o_tree_1.OTree(context.convertAll(node.statements));
    }
    importStatement(node, context) {
        return this.defaultNode('importStatement', node.node, context);
    }
    functionDeclaration(node, children) {
        return this.defaultNode('functionDeclaration', node, children);
    }
    stringLiteral(node, children) {
        return this.defaultNode('stringLiteral', node, children);
    }
    identifier(node, children) {
        return this.defaultNode('identifier', node, children);
    }
    block(node, children) {
        return this.defaultNode('block', node, children);
    }
    parameterDeclaration(node, children) {
        return this.defaultNode('parameterDeclaration', node, children);
    }
    returnStatement(node, children) {
        return this.defaultNode('returnStatement', node, children);
    }
    binaryExpression(node, children) {
        return this.defaultNode('binaryExpression', node, children);
    }
    ifStatement(node, context) {
        return this.defaultNode('ifStatement', node, context);
    }
    propertyAccessExpression(node, context) {
        return this.defaultNode('propertyAccessExpression', node, context);
    }
    callExpression(node, context) {
        return this.defaultNode('callExpression', node, context);
    }
    expressionStatement(node, context) {
        return this.defaultNode('expressionStatement', node, context);
    }
    token(node, context) {
        return this.defaultNode('token', node, context);
    }
    objectLiteralExpression(node, context) {
        return this.defaultNode('objectLiteralExpression', node, context);
    }
    newExpression(node, context) {
        return this.defaultNode('newExpression', node, context);
    }
    propertyAssignment(node, context) {
        return this.defaultNode('propertyAssignment', node, context);
    }
    variableStatement(node, context) {
        return this.defaultNode('variableStatement', node, context);
    }
    variableDeclarationList(node, context) {
        return this.defaultNode('variableDeclarationList', node, context);
    }
    variableDeclaration(node, context) {
        return this.defaultNode('variableDeclaration', node, context);
    }
    arrayLiteralExpression(node, context) {
        return this.defaultNode('arrayLiteralExpression', node, context);
    }
    shorthandPropertyAssignment(node, context) {
        return this.defaultNode('shorthandPropertyAssignment', node, context);
    }
    forOfStatement(node, context) {
        return this.defaultNode('forOfStatement', node, context);
    }
    classDeclaration(node, context) {
        return this.defaultNode('classDeclaration', node, context);
    }
    constructorDeclaration(node, context) {
        return this.defaultNode('constructorDeclaration', node, context);
    }
    propertyDeclaration(node, context) {
        return this.defaultNode('propertyDeclaration', node, context);
    }
    computedPropertyName(node, context) {
        return this.defaultNode('computedPropertyName', node, context);
    }
    methodDeclaration(node, context) {
        return this.defaultNode('methodDeclaration', node, context);
    }
    interfaceDeclaration(node, context) {
        return this.defaultNode('interfaceDeclaration', node, context);
    }
    propertySignature(node, context) {
        return this.defaultNode('propertySignature', node, context);
    }
    methodSignature(node, context) {
        return this.defaultNode('methodSignature', node, context);
    }
    asExpression(node, context) {
        return this.defaultNode('asExpression', node, context);
    }
    prefixUnaryExpression(node, context) {
        return this.defaultNode('prefixUnaryExpression', node, context);
    }
    spreadElement(node, context) {
        return this.defaultNode('spreadElement', node, context);
    }
    spreadAssignment(node, context) {
        return this.defaultNode('spreadAssignment', node, context);
    }
    ellipsis(node, context) {
        return this.defaultNode('ellipsis', node, context);
    }
    templateExpression(node, context) {
        return this.defaultNode('templateExpression', node, context);
    }
    elementAccessExpression(node, context) {
        return this.defaultNode('elementAccessExpression', node, context);
    }
    nonNullExpression(node, context) {
        return this.defaultNode('nonNullExpression', node, context);
    }
    parenthesizedExpression(node, context) {
        return this.defaultNode('parenthesizedExpression', node, context);
    }
    maskingVoidExpression(node, context) {
        return this.defaultNode('maskingVoidExpression', node, context);
    }
    defaultNode(handlerName, node, context) {
        return renderer_1.nimpl(node, context, {
            additionalInfo: this.includeHandlerNames ? handlerName : '',
        });
    }
}
exports.VisualizeAstVisitor = VisualizeAstVisitor;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsaXplLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidmlzdWFsaXplLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLHNDQUFrQztBQUNsQywwQ0FBNEU7QUFHNUUsTUFBYSxtQkFBbUI7SUFHOUIsWUFBb0MsbUJBQTZCO1FBQTdCLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBVTtRQUZqRCxtQkFBYyxHQUFTLFNBQVMsQ0FBQztJQUVtQixDQUFDO0lBRTlELFlBQVksQ0FBQyxJQUFTLEVBQUUsT0FBWTtRQUN6QyxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBRU0sWUFBWSxDQUFDLElBQW1CLEVBQUUsUUFBMkI7UUFDbEUsT0FBTyxJQUFJLGNBQUssQ0FBQyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVNLEtBQUssQ0FBQyxLQUFlLEVBQUUsUUFBMkI7UUFDdkQsd0NBQXdDO1FBQ3hDLE9BQU8sSUFBSSxjQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVNLFVBQVUsQ0FBQyxJQUFtQixFQUFFLE9BQTBCO1FBQy9ELE9BQU8sSUFBSSxjQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRU0sZUFBZSxDQUFDLElBQXFCLEVBQUUsT0FBMEI7UUFDdEUsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVNLG1CQUFtQixDQUFDLElBQTRCLEVBQUUsUUFBMkI7UUFDbEYsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLHFCQUFxQixFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNqRSxDQUFD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aXB0JztcblxuaW1wb3J0IHsgT1RyZWUgfSBmcm9tICcuLi9vLXRyZWUnO1xuaW1wb3J0IHsgQXN0UmVuZGVyZXIsIEFzdEhhbmRsZXIsIG5pbXBsLCBDb21tZW50U3ludGF4IH0gZnJvbSAnLi4vcmVuZGVyZXInO1xuaW1wb3J0IHsgSW1wb3J0U3RhdGVtZW50IH0gZnJvbSAnLi4vdHlwZXNjcmlwdC9pbXBvcnRzJztcblxuZXhwb3J0IGNsYXNzIFZpc3VhbGl6ZUFzdFZpc2l0b3IgaW1wbGVtZW50cyBBc3RIYW5kbGVyPHZvaWQ+IHtcbiAgcHVibGljIHJlYWRvbmx5IGRlZmF1bHRDb250ZXh0OiB2b2lkID0gdW5kZWZpbmVkO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGluY2x1ZGVIYW5kbGVyTmFtZXM/OiBib29sZWFuKSB7fVxuXG4gIHB1YmxpYyBtZXJnZUNvbnRleHQoX29sZDogYW55LCBfdXBkYXRlOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgY29tbWVudFJhbmdlKG5vZGU6IENvbW1lbnRTeW50YXgsIF9jb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gbmV3IE9UcmVlKFsnKENvbW1lbnQnLCBub2RlLnRleHRdLCBbXSwgeyBzdWZmaXg6ICcpJyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBqc0RvYyhfbm9kZTogdHMuSlNEb2MsIF9jb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICAvLyBBbHJlYWR5IGhhbmRsZWQgYnkgb3RoZXIgZG9jIGhhbmRsZXJzXG4gICAgcmV0dXJuIG5ldyBPVHJlZShbXSk7XG4gIH1cblxuICBwdWJsaWMgc291cmNlRmlsZShub2RlOiB0cy5Tb3VyY2VGaWxlLCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gbmV3IE9UcmVlKGNvbnRleHQuY29udmVydEFsbChub2RlLnN0YXRlbWVudHMpKTtcbiAgfVxuXG4gIHB1YmxpYyBpbXBvcnRTdGF0ZW1lbnQobm9kZTogSW1wb3J0U3RhdGVtZW50LCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgnaW1wb3J0U3RhdGVtZW50Jywgbm9kZS5ub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBmdW5jdGlvbkRlY2xhcmF0aW9uKG5vZGU6IHRzLkZ1bmN0aW9uRGVjbGFyYXRpb24sIGNoaWxkcmVuOiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgnZnVuY3Rpb25EZWNsYXJhdGlvbicsIG5vZGUsIGNoaWxkcmVuKTtcbiAgfVxuXG4gIHB1YmxpYyBzdHJpbmdMaXRlcmFsKG5vZGU6IHRzLlN0cmluZ0xpdGVyYWwgfCB0cy5Ob1N1YnN0aXR1dGlvblRlbXBsYXRlTGl0ZXJhbCwgY2hpbGRyZW46IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdzdHJpbmdMaXRlcmFsJywgbm9kZSwgY2hpbGRyZW4pO1xuICB9XG5cbiAgcHVibGljIGlkZW50aWZpZXIobm9kZTogdHMuSWRlbnRpZmllciwgY2hpbGRyZW46IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdpZGVudGlmaWVyJywgbm9kZSwgY2hpbGRyZW4pO1xuICB9XG5cbiAgcHVibGljIGJsb2NrKG5vZGU6IHRzLkJsb2NrLCBjaGlsZHJlbjogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ2Jsb2NrJywgbm9kZSwgY2hpbGRyZW4pO1xuICB9XG5cbiAgcHVibGljIHBhcmFtZXRlckRlY2xhcmF0aW9uKG5vZGU6IHRzLlBhcmFtZXRlckRlY2xhcmF0aW9uLCBjaGlsZHJlbjogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ3BhcmFtZXRlckRlY2xhcmF0aW9uJywgbm9kZSwgY2hpbGRyZW4pO1xuICB9XG5cbiAgcHVibGljIHJldHVyblN0YXRlbWVudChub2RlOiB0cy5SZXR1cm5TdGF0ZW1lbnQsIGNoaWxkcmVuOiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgncmV0dXJuU3RhdGVtZW50Jywgbm9kZSwgY2hpbGRyZW4pO1xuICB9XG5cbiAgcHVibGljIGJpbmFyeUV4cHJlc3Npb24obm9kZTogdHMuQmluYXJ5RXhwcmVzc2lvbiwgY2hpbGRyZW46IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdiaW5hcnlFeHByZXNzaW9uJywgbm9kZSwgY2hpbGRyZW4pO1xuICB9XG5cbiAgcHVibGljIGlmU3RhdGVtZW50KG5vZGU6IHRzLklmU3RhdGVtZW50LCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgnaWZTdGF0ZW1lbnQnLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBwcm9wZXJ0eUFjY2Vzc0V4cHJlc3Npb24obm9kZTogdHMuUHJvcGVydHlBY2Nlc3NFeHByZXNzaW9uLCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgncHJvcGVydHlBY2Nlc3NFeHByZXNzaW9uJywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgY2FsbEV4cHJlc3Npb24obm9kZTogdHMuQ2FsbEV4cHJlc3Npb24sIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdjYWxsRXhwcmVzc2lvbicsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIGV4cHJlc3Npb25TdGF0ZW1lbnQobm9kZTogdHMuRXhwcmVzc2lvblN0YXRlbWVudCwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ2V4cHJlc3Npb25TdGF0ZW1lbnQnLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b2tlbjxBIGV4dGVuZHMgdHMuU3ludGF4S2luZD4obm9kZTogdHMuVG9rZW48QT4sIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCd0b2tlbicsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIG9iamVjdExpdGVyYWxFeHByZXNzaW9uKG5vZGU6IHRzLk9iamVjdExpdGVyYWxFeHByZXNzaW9uLCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgnb2JqZWN0TGl0ZXJhbEV4cHJlc3Npb24nLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBuZXdFeHByZXNzaW9uKG5vZGU6IHRzLk5ld0V4cHJlc3Npb24sIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCduZXdFeHByZXNzaW9uJywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgcHJvcGVydHlBc3NpZ25tZW50KG5vZGU6IHRzLlByb3BlcnR5QXNzaWdubWVudCwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ3Byb3BlcnR5QXNzaWdubWVudCcsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIHZhcmlhYmxlU3RhdGVtZW50KG5vZGU6IHRzLlZhcmlhYmxlU3RhdGVtZW50LCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgndmFyaWFibGVTdGF0ZW1lbnQnLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyB2YXJpYWJsZURlY2xhcmF0aW9uTGlzdChub2RlOiB0cy5WYXJpYWJsZURlY2xhcmF0aW9uTGlzdCwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ3ZhcmlhYmxlRGVjbGFyYXRpb25MaXN0Jywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgdmFyaWFibGVEZWNsYXJhdGlvbihub2RlOiB0cy5WYXJpYWJsZURlY2xhcmF0aW9uLCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgndmFyaWFibGVEZWNsYXJhdGlvbicsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIGFycmF5TGl0ZXJhbEV4cHJlc3Npb24obm9kZTogdHMuQXJyYXlMaXRlcmFsRXhwcmVzc2lvbiwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ2FycmF5TGl0ZXJhbEV4cHJlc3Npb24nLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBzaG9ydGhhbmRQcm9wZXJ0eUFzc2lnbm1lbnQobm9kZTogdHMuU2hvcnRoYW5kUHJvcGVydHlBc3NpZ25tZW50LCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgnc2hvcnRoYW5kUHJvcGVydHlBc3NpZ25tZW50Jywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgZm9yT2ZTdGF0ZW1lbnQobm9kZTogdHMuRm9yT2ZTdGF0ZW1lbnQsIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdmb3JPZlN0YXRlbWVudCcsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIGNsYXNzRGVjbGFyYXRpb24obm9kZTogdHMuQ2xhc3NEZWNsYXJhdGlvbiwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ2NsYXNzRGVjbGFyYXRpb24nLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvckRlY2xhcmF0aW9uKG5vZGU6IHRzLkNvbnN0cnVjdG9yRGVjbGFyYXRpb24sIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdjb25zdHJ1Y3RvckRlY2xhcmF0aW9uJywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgcHJvcGVydHlEZWNsYXJhdGlvbihub2RlOiB0cy5Qcm9wZXJ0eURlY2xhcmF0aW9uLCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgncHJvcGVydHlEZWNsYXJhdGlvbicsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIGNvbXB1dGVkUHJvcGVydHlOYW1lKG5vZGU6IHRzLkV4cHJlc3Npb24sIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdjb21wdXRlZFByb3BlcnR5TmFtZScsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIG1ldGhvZERlY2xhcmF0aW9uKG5vZGU6IHRzLk1ldGhvZERlY2xhcmF0aW9uLCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgnbWV0aG9kRGVjbGFyYXRpb24nLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBpbnRlcmZhY2VEZWNsYXJhdGlvbihub2RlOiB0cy5JbnRlcmZhY2VEZWNsYXJhdGlvbiwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ2ludGVyZmFjZURlY2xhcmF0aW9uJywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgcHJvcGVydHlTaWduYXR1cmUobm9kZTogdHMuUHJvcGVydHlTaWduYXR1cmUsIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdwcm9wZXJ0eVNpZ25hdHVyZScsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIG1ldGhvZFNpZ25hdHVyZShub2RlOiB0cy5NZXRob2RTaWduYXR1cmUsIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdtZXRob2RTaWduYXR1cmUnLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBhc0V4cHJlc3Npb24obm9kZTogdHMuQXNFeHByZXNzaW9uLCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgnYXNFeHByZXNzaW9uJywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgcHJlZml4VW5hcnlFeHByZXNzaW9uKG5vZGU6IHRzLlByZWZpeFVuYXJ5RXhwcmVzc2lvbiwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ3ByZWZpeFVuYXJ5RXhwcmVzc2lvbicsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIHNwcmVhZEVsZW1lbnQobm9kZTogdHMuU3ByZWFkRWxlbWVudCwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ3NwcmVhZEVsZW1lbnQnLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBzcHJlYWRBc3NpZ25tZW50KG5vZGU6IHRzLlNwcmVhZEFzc2lnbm1lbnQsIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdzcHJlYWRBc3NpZ25tZW50Jywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgZWxsaXBzaXMobm9kZTogdHMuU3ByZWFkQXNzaWdubWVudCB8IHRzLlNwcmVhZEVsZW1lbnQsIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdlbGxpcHNpcycsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIHRlbXBsYXRlRXhwcmVzc2lvbihub2RlOiB0cy5UZW1wbGF0ZUV4cHJlc3Npb24sIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCd0ZW1wbGF0ZUV4cHJlc3Npb24nLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBlbGVtZW50QWNjZXNzRXhwcmVzc2lvbihub2RlOiB0cy5FbGVtZW50QWNjZXNzRXhwcmVzc2lvbiwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdE5vZGUoJ2VsZW1lbnRBY2Nlc3NFeHByZXNzaW9uJywgbm9kZSwgY29udGV4dCk7XG4gIH1cblxuICBwdWJsaWMgbm9uTnVsbEV4cHJlc3Npb24obm9kZTogdHMuTm9uTnVsbEV4cHJlc3Npb24sIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdub25OdWxsRXhwcmVzc2lvbicsIG5vZGUsIGNvbnRleHQpO1xuICB9XG5cbiAgcHVibGljIHBhcmVudGhlc2l6ZWRFeHByZXNzaW9uKG5vZGU6IHRzLlBhcmVudGhlc2l6ZWRFeHByZXNzaW9uLCBjb250ZXh0OiBBc3RSZW5kZXJlcjx2b2lkPik6IE9UcmVlIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0Tm9kZSgncGFyZW50aGVzaXplZEV4cHJlc3Npb24nLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBtYXNraW5nVm9pZEV4cHJlc3Npb24obm9kZTogdHMuVm9pZEV4cHJlc3Npb24sIGNvbnRleHQ6IEFzdFJlbmRlcmVyPHZvaWQ+KTogT1RyZWUge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHROb2RlKCdtYXNraW5nVm9pZEV4cHJlc3Npb24nLCBub2RlLCBjb250ZXh0KTtcbiAgfVxuXG4gIHByaXZhdGUgZGVmYXVsdE5vZGUoaGFuZGxlck5hbWU6IHN0cmluZywgbm9kZTogdHMuTm9kZSwgY29udGV4dDogQXN0UmVuZGVyZXI8dm9pZD4pOiBPVHJlZSB7XG4gICAgcmV0dXJuIG5pbXBsKG5vZGUsIGNvbnRleHQsIHtcbiAgICAgIGFkZGl0aW9uYWxJbmZvOiB0aGlzLmluY2x1ZGVIYW5kbGVyTmFtZXMgPyBoYW5kbGVyTmFtZSA6ICcnLFxuICAgIH0pO1xuICB9XG59XG4iXX0=