"use strict";
var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
};
var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
};
var _defaultCategory, _category, _formatter, _formatted;
Object.defineProperty(exports, "__esModule", { value: true });
exports.configureCategories = exports.JsiiDiagnostic = exports.Code = void 0;
const spec = require("@jsii/spec");
const case_1 = require("case");
const ts = require("typescript");
const deprecation_warnings_1 = require("./transforms/deprecation-warnings");
const utils_1 = require("./utils");
/**
 * Descriptors for all valid jsii diagnostic codes.
 *
 * The `category` or non-error codes can be updated, for example to treat
 * warnings as errors, or to suppress certain undesirable warnings.
 */
class Code {
    /**
     * Registers a new diagnostic code.
     *
     * @param code            the numeric code for the diagnostic
     * @param name            the symbolic name for the diagnostic
     * @param defaultCategory the default category this diagnostic ransk in
     * @param formatter       a message formatter for easy creation of diagnostics
     */
    constructor(code, name, defaultCategory, formatter) {
        this.code = code;
        this.name = name;
        // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility
        _defaultCategory.set(this, void 0);
        // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility
        _category.set(this, void 0);
        // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility
        _formatter.set(this, void 0);
        __classPrivateFieldSet(this, _defaultCategory, defaultCategory);
        __classPrivateFieldSet(this, _formatter, formatter);
        if (code in Code.byCode) {
            throw new Error(`Attempted to create two instances of ${this.constructor.name} with code ${code}`);
        }
        if (name in Code.byName) {
            throw new Error(`Attempted to create two instances of ${this.constructor.name} with name ${name}`);
        }
        Code.byCode[code] = Code.byName[name] = this;
    }
    /**
     * @internal
     */
    static message({ code, name, formatter, }) {
        return new Code(code, name, ts.DiagnosticCategory.Message, formatter);
    }
    /**
     * @internal
     */
    static suggestion({ code, name, formatter, }) {
        return new Code(code, name, ts.DiagnosticCategory.Suggestion, formatter);
    }
    /**
     * @internal
     */
    static warning({ code, name, formatter, }) {
        return new Code(code, name, ts.DiagnosticCategory.Warning, formatter);
    }
    /**
     * @internal
     */
    static error({ code, name, formatter, }) {
        return new Code(code, name, ts.DiagnosticCategory.Error, formatter);
    }
    /**
     * Get a diagnostic code by code or name.
     *
     * @param codeOrName the looked up diagnostic code or name.
     *
     * @returns the JsiiDiagnosticCode instande, if one exists, or `undefined`
     *
     * @experimental this module is under active development and the error codes
     *               and names may change in the future.
     */
    static lookup(codeOrName) {
        if (typeof codeOrName === 'number') {
            return this.byCode[codeOrName];
        }
        return this.byName[codeOrName];
    }
    /**
     * Determines whether this diagnostic is a compilation error. Diagnostics
     * where this is `true` cannot have their `category` overridden to a lower
     * category.
     */
    get isError() {
        return __classPrivateFieldGet(this, _defaultCategory) === ts.DiagnosticCategory.Error;
    }
    /**
     * The diagnostic category this particular code is filed as.
     */
    get category() {
        var _a;
        return (_a = __classPrivateFieldGet(this, _category)) !== null && _a !== void 0 ? _a : __classPrivateFieldGet(this, _defaultCategory);
    }
    /**
     * Update the diagnostic category for this particular code. If `isError` is
     * `true`, attempting to set anything other than `ts.DiagnosticCategory.Error`
     * will result in an error being throw.
     *
     * @param newValue the new diagnostic category to be used.
     */
    set category(newValue) {
        if (this.isError && newValue !== ts.DiagnosticCategory.Error) {
            throw new Error(`Illegal attempt to override category of error ${this.code} to ${ts.DiagnosticCategory[newValue]}`);
        }
        __classPrivateFieldSet(this, _category, newValue);
    }
    /**
     * Creates a new `JsiiDiagnostic` message without any source code location
     * data.
     *
     * @param args the arguments to the message formatter.
     *
     * @deprecated It is preferred to specify a source code location for problem
     *             markers. Prefer the use of `create` while providing a value
     *             for the `location` parameter whenever possible.
     */
    createDetached(...args) {
        return new JsiiDiagnostic(this, __classPrivateFieldGet(this, _formatter).call(this, ...args));
    }
    /**
     * Creates a new `JsiiDiagnostic` message with source code location denoted
     * by the provided `location` node.
     *
     * @param location the source code location attachment of the message.
     * @param args     the arguments to the message formatter.
     */
    create(location, ...args) {
        return new JsiiDiagnostic(this, __classPrivateFieldGet(this, _formatter).call(this, ...args), location);
    }
}
exports.Code = Code;
_defaultCategory = new WeakMap(), _category = new WeakMap(), _formatter = new WeakMap();
Code.byCode = {};
Code.byName = {};
/**
 * A jsii-specific diagnostic entry.
 */
class JsiiDiagnostic {
    /**
     * Creates a new `JsiiDiagnostic` with the provided properties.
     *
     * @internal
     */
    constructor(code, messageText, location) {
        this.domain = JsiiDiagnostic.DOMAIN;
        this.code = utils_1.JSII_DIAGNOSTICS_CODE;
        this.relatedInformation = new Array();
        // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility
        _formatted.set(this, void 0);
        this.category = code.category;
        this.jsiiCode = code.code;
        this.messageText = messageText;
        if (location != null) {
            this.file = location.getSourceFile();
            this.start = location.getStart(this.file);
            this.length = location.getEnd() - this.start;
        }
    }
    //////////////////////////////////////////////////////////////////////////////
    /**
     * Determines whether a `Diagnostic` instance is a `JsiiDiagnostic` or not.
     * @param diag
     */
    static isJsiiDiagnostic(diag) {
        return diag.domain === JsiiDiagnostic.DOMAIN;
    }
    addRelatedInformation(node, message) {
        this.relatedInformation.push(JsiiDiagnostic.JSII_9999_RELATED_INFO.create(node, message));
        // Clearing out #formatted, as this would no longer be the correct string.
        __classPrivateFieldSet(this, _formatted, undefined);
        return this;
    }
    /**
     * Formats this diagnostic with color and context if possible, and returns it.
     * The formatted diagnostic is cached, so that it can be re-used. This is
     * useful for diagnostic messages involving trivia -- as the trivia may have
     * been obliterated from the `SourceFile` by the `TsCommentReplacer`, which
     * makes the error messages really confusing.
     */
    format(projectRoot) {
        if (__classPrivateFieldGet(this, _formatted) == null) {
            __classPrivateFieldSet(this, _formatted, utils_1._formatDiagnostic(this, projectRoot));
        }
        return __classPrivateFieldGet(this, _formatted);
    }
    /**
     * Ensures the formatted diagnostic is prepared for later re-use.
     *
     * @returns `this`
     */
    preformat(projectRoot) {
        this.format(projectRoot);
        return this;
    }
}
exports.JsiiDiagnostic = JsiiDiagnostic;
_formatted = new WeakMap();
/**
 * This symbol unequivocally identifies the `JsiiDiagnostic` domain.
 */
JsiiDiagnostic.DOMAIN = Symbol('jsii');
//////////////////////////////////////////////////////////////////////////////
// 0001 => 0999 -- PACKAGE METADATA PROBLEMS
JsiiDiagnostic.JSII_0001_PKG_MISSING_DESCRIPTION = Code.suggestion({
    code: 1,
    formatter: () => `A "description" field should be specified in "package.json"`,
    name: 'metadata/package-json-missing-description',
});
JsiiDiagnostic.JSII_0002_PKG_MISSING_HOMEPAGE = Code.suggestion({
    code: 2,
    formatter: () => `A "homepage" field should be specified in "package.json"`,
    name: 'metadata/package-json-missing-homepage',
});
JsiiDiagnostic.JSII_0003_MISSING_README = Code.warning({
    code: 3,
    formatter: () => `There is no "README.md" file. It is required in order to generate valid PyPI (Python) packages.`,
    name: 'metadata/missing-readme',
});
JsiiDiagnostic.JSII_0004_COULD_NOT_FIND_ENTRYPOINT = Code.error({
    code: 4,
    formatter: (mainFile) => `Could not find "main" file: ${mainFile}`,
    name: 'metadata/could-not-find-entrypoint',
});
JsiiDiagnostic.JSII_0005_MISSING_PEER_DEPENDENCY = Code.warning({
    code: 5,
    formatter: (assm, reference) => `The type "${reference}" is exposed in the public API of this module. ` +
        `Therefore, the module "${assm}" must also be defined under "peerDependencies". ` +
        'This will be auto-corrected unless --no-fix-peer-dependencies was specified.',
    name: 'metadata/missing-peer-dependency',
});
// NOTE: currently not possible to change the severity of this code,
// as it's being emitted before the overrides have been loaded
JsiiDiagnostic.JSII_0006_MISSING_DEV_DEPENDENCY = Code.warning({
    code: 6,
    formatter: (dependencyName, peerRange, minVersion, actual) => `A "peerDependency" on "${dependencyName}" at "${peerRange}" means you ` +
        `should take a "devDependency" on "${dependencyName}" at "${minVersion}" ` +
        `(found "${actual}")"`,
    name: 'metadata/missing-dev-dependency',
});
JsiiDiagnostic.JSII_0007_MISSING_WARNINGS_EXPORT = Code.error({
    code: 7,
    formatter: () => 'If you are compiling with --add-deprecation-warnings and your package.json ' +
        `declares subpath exports, you must include { "./${deprecation_warnings_1.WARNINGSCODE_FILE_NAME}": "./${deprecation_warnings_1.WARNINGSCODE_FILE_NAME}" } ` +
        'in the set of exports.',
    name: 'metadata/missing-warnings-export',
});
//////////////////////////////////////////////////////////////////////////////
// 1000 => 1999 -- TYPESCRIPT LANGUAGE RESTRICTIONS
JsiiDiagnostic.JSII_1000_NO_CONST_ENUM = Code.error({
    code: 1000,
    formatter: () => `Exported "const enum" declarations are not allowed`,
    name: 'typescript-restrictions/no-const-enum',
});
JsiiDiagnostic.JSII_1001_TYPE_HAS_NO_SYMBOL = Code.error({
    code: 1001,
    formatter: () => `Non-primitive types without a symbol cannot be processed.`,
    name: 'typescript-restrictions/type-has-no-symbol',
});
JsiiDiagnostic.JSII_1002_UNSPECIFIED_PROMISE = Code.error({
    code: 1002,
    formatter: () => `Un-specified promise type. Specify it using "Promise<T>"`,
    name: 'typescript-restrictions/unspecified-promise',
});
JsiiDiagnostic.JSII_1003_UNSUPPORTED_TYPE = Code.error({
    code: 1003,
    formatter: (messageText) => messageText,
    name: 'typescript-restrictions/unsupported-type',
});
//////////////////////////////////////////////////////////////////////////////
// 2000 => 2999 -- RESERVED
//////////////////////////////////////////////////////////////////////////////
// 3000 => 3999 -- TYPE MODEL COHERENCE
JsiiDiagnostic.JSII_3000_EXPORTED_API_USES_HIDDEN_TYPE = Code.error({
    code: 3000,
    formatter: (badFqn) => `Exported APIs cannot use un-exported type "${badFqn}"`,
    name: 'type-model/exported-api-cannot-use-unexported-type',
});
JsiiDiagnostic.JSII_3001_EXPOSED_INTERNAL_TYPE = Code.error({
    code: 3001,
    formatter: (symbol, isThisType, typeUse) => `Type ${isThisType ? `"this" (aka: "${symbol.name}")` : `"${symbol.name}"`} cannot be used as the ${typeUse} because it is private or @internal`,
    name: 'type-model/use-of-internal-type',
});
JsiiDiagnostic.JSII_3002_USE_OF_UNEXPORTED_FOREIGN_TYPE = Code.error({
    code: 3002,
    formatter: (fqn, typeUse, pkg) => `Type "${fqn}" cannot be used as a ${typeUse} because it is not exported from ${pkg.name}`,
    name: 'type-model/unexported-foreign-type',
});
JsiiDiagnostic.JSII_3003_SYMBOL_IS_EXPORTED_TWICE = Code.error({
    code: 3003,
    formatter: (ns1, ns2) => `Symbol is exported under two distinct submodules: ${ns1} and ${ns2}`,
    name: 'type-model/symbol-is-exported-twice',
});
JsiiDiagnostic.JSII_3004_INVALID_SUPERTYPE = Code.error({
    code: 3004,
    formatter: (clause, badDeclaration) => {
        return `Illegal ${clauseType(clause.token)} clause for an exported API: ${ts.SyntaxKind[badDeclaration.kind]}`;
        function clauseType(token) {
            switch (token) {
                case ts.SyntaxKind.ExtendsKeyword:
                    return 'extends';
                case ts.SyntaxKind.ImplementsKeyword:
                    return 'implements';
                default:
                    return ts.SyntaxKind[token];
            }
        }
    },
    name: 'type-model/invalid-supertype',
});
JsiiDiagnostic.JSII_3005_TYPE_USED_AS_INTERFACE = Code.error({
    code: 3005,
    formatter: (badType) => `Type "${spec.describeTypeReference(badType)}" cannot be used as an interface`,
    name: 'type-model/type-used-as-interface',
});
JsiiDiagnostic.JSII_3006_TYPE_USED_AS_CLASS = Code.error({
    code: 3006,
    formatter: (badType) => `Type "${spec.describeTypeReference(badType)}" cannot be used as a class`,
    name: 'type-model/type-used-as-class',
});
JsiiDiagnostic.JSII_3007_ILLEGAL_STRUCT_EXTENSION = Code.error({
    code: 3007,
    formatter: (offender, struct) => `Attempt to extend or implement struct "${struct.fqn}" from "${offender.fqn}"`,
    name: 'type-model/illegal-struct-extension',
});
JsiiDiagnostic.JSII_3008_STRUCT_PROPS_MUST_BE_READONLY = Code.error({
    code: 3008,
    formatter: (propName, struct) => `The "${propName}" property of struct "${struct.fqn}" must be "readonly". Rename "${struct.fqn}" to "I${struct.name}" if it is meant to be a behavioral interface.`,
    name: 'type-model/struct-props-must-be-readonly',
});
JsiiDiagnostic.JSII_3009_OPTIONAL_PARAMETER_BEFORE_REQUIRED = Code.error({
    code: 3009,
    formatter: (param, nextParam) => `Parameter "${param.name}" cannot be optional, as it precedes required parameter "${nextParam.name}"`,
    name: 'type-model/optional-parameter-before-required',
});
JsiiDiagnostic.JSII_3999_INCOHERENT_TYPE_MODEL = Code.error({
    code: 3999,
    formatter: (messageText) => messageText,
    name: 'type-model/incoherent-type-model',
});
//////////////////////////////////////////////////////////////////////////////
// 4000 => 4999 -- RESERVED
//////////////////////////////////////////////////////////////////////////////
// 5000 => 5999 -- LANGUAGE COMPATIBILITY ERRORS
JsiiDiagnostic.JSII_5000_JAVA_GETTERS = Code.error({
    code: 5000,
    formatter: (badName, typeName) => `Methods and properties cannot have names like "getXxx": those conflict with Java property getters. Rename "${typeName}.${badName}"`,
    name: 'language-compatibility/potential-java-getter-conflict',
});
JsiiDiagnostic.JSII_5001_JAVA_SETTERS = Code.error({
    code: 5001,
    formatter: (badName, typeName) => `Methods and properties cannot have names like "setXxx": those conflict with Java property setters. Rename "${typeName}.${badName}"`,
    name: 'language-compatibility/potential-java-setter-conflict',
});
JsiiDiagnostic.JSII_5002_OVERRIDE_CHANGES_VISIBILITY = Code.error({
    code: 5002,
    formatter: (newElement, action, newValue, oldValue) => `"${newElement}" changes visibility to ${newValue} when ${action}. Change it to ${oldValue}`,
    name: 'language-compatibility/override-changes-visibility',
});
JsiiDiagnostic.JSII_5003_OVERRIDE_CHANGES_RETURN_TYPE = Code.error({
    code: 5003,
    formatter: (newElement, action, newValue, oldValue) => `"${newElement}" changes the return type to "${newValue}" when ${action}. Change it to "${oldValue}"`,
    name: 'language-compatibility/override-changes-return-type',
});
JsiiDiagnostic.JSII_5004_OVERRIDE_CHANGES_PROP_TYPE = Code.error({
    code: 5004,
    formatter: (newElement, action, newType, oldType) => `"${newElement}" changes the property type to "${spec.describeTypeReference(newType)}" when ${action}. Change it to "${spec.describeTypeReference(oldType)}"`,
    name: 'language-compatibility/override-changes-property-type',
});
JsiiDiagnostic.JSII_5005_OVERRIDE_CHANGES_PARAM_COUNT = Code.error({
    code: 5005,
    formatter: (newElement, action, newCount, oldCount) => `"${newElement}" has ${newCount} parameters when ${action}. It should accept ${oldCount} parameters`,
    name: 'language-compatibility/override-changes-param-count',
});
JsiiDiagnostic.JSII_5006_OVERRIDE_CHANGES_PARAM_TYPE = Code.error({
    code: 5006,
    formatter: (newElement, action, newParam, oldParam) => `"${newElement}" changes the type of parameter "${newParam.name}" to ${spec.describeTypeReference(newParam.type)} when ${action}. Change it to ${spec.describeTypeReference(oldParam.type)}`,
    name: 'language-compatibility/override-changes-param-type',
});
JsiiDiagnostic.JSII_5007_OVERRIDE_CHANGES_VARIADIC = Code.error({
    code: 5007,
    formatter: (newElement, action, newVariadic = false, oldVariadic = false) => `"${newElement}" turns ${newVariadic ? 'variadic' : 'non variadic'} when ${action}. Make it ${oldVariadic ? 'variadic' : 'non-variadic'}`,
    name: 'language-compatibility/override-changes-variadic',
});
JsiiDiagnostic.JSII_5008_OVERRIDE_CHANGES_PARAM_OPTIONAL = Code.error({
    code: 5008,
    formatter: (newElement, action, newParam, oldParam) => `"${newElement}" turns parameter "${newParam.name}" ${newParam.optional ? 'optional' : 'required'} when ${action}. Make it ${oldParam.optional ? 'optional' : 'required'}`,
    name: 'language-compatibility/override-changes-param-optional',
});
JsiiDiagnostic.JSII_5009_OVERRIDE_CHANGES_PROP_OPTIONAL = Code.error({
    code: 5009,
    formatter: (newElement, action, newOptional = false, oldOptional = false) => `"${newElement}" turns  ${newOptional ? 'optional' : 'required'} when ${action}. Make it ${oldOptional ? 'optional' : 'required'}`,
    name: 'language-compatibility/override-changes-prop-optional',
});
JsiiDiagnostic.JSII_5010_OVERRIDE_CHANGES_MUTABILITY = Code.error({
    code: 5010,
    formatter: (newElement, action, newMutable = false, oldMutable = false) => `"${newElement}" turns ${newMutable ? 'mutable' : 'readonly'} when ${action}. Make it ${oldMutable ? 'mutable' : 'readonly'}`,
    name: 'language-compatibility/override-changes-mutability',
});
JsiiDiagnostic.JSII_5011_SUBMODULE_NAME_CONFLICT = Code.error({
    code: 5011,
    formatter: (submoduleName, typeName, reserved) => `Submodule "${submoduleName}" conflicts with "${typeName}, as different languages could represent it as: ${reserved
        .map((x) => `"${x}"`)
        .join(', ')}"`,
    name: 'language-compatibility/submodule-name-conflicts',
});
JsiiDiagnostic.JSII_5012_NAMESPACE_IN_TYPE = Code.error({
    code: 5012,
    formatter: (typeName, namespaceName) => `All entities nested under a type (e.g: "${typeName}") must be concrete types, but "${namespaceName}" is a namespace. This structure cannot be supported in all languages (e.g: Java)`,
    name: 'language-compatibility/namespace-in-type',
});
JsiiDiagnostic.JSII_5013_STATIC_INSTANCE_CONFLICT = Code.error({
    code: 5013,
    formatter: (member, type) => `Member "${member}" of class "${type.fqn}" has both a static and an instance delcaration`,
    name: 'language-compatibility/static-instance-conflict',
});
JsiiDiagnostic.JSII_5014_INHERITED_STATIC_CONFLICT = Code.error({
    code: 5014,
    formatter: (member, type, baseMember, baseType) => `${member.static ? 'Static' : 'Instance'} member "${member.name}" of class "${type.fqn}" conflicts with ${baseMember.static ? 'static' : 'instance'} member in ancestor "${baseType.fqn}"`,
    name: 'language-compatibility/inherited-static-conflict',
});
JsiiDiagnostic.JSII_5015_REDECLARED_INTERFACE_MEMBER = Code.error({
    code: 5015,
    formatter: (memberName, iface) => `Interface "${iface.fqn}" re-declares member "${memberName}". This is not supported as it results in invalid C#.`,
    name: 'language-compatibility/redeclared-interface-member',
});
JsiiDiagnostic.JSII_5016_PROHIBITED_MEMBER_NAME = Code.error({
    code: 5016,
    formatter: (badName) => `Members cannot be named "${badName}" as it conflicts with synthetic declarations in some languages.`,
    name: 'language-compatibility/prohibited-member-name',
});
JsiiDiagnostic.JSII_5017_POSITIONAL_KEYWORD_CONFLICT = Code.error({
    code: 5017,
    formatter: (badName) => `Parameter name "${badName}" is also the name of a property in a struct parameter. Rename the positional parameter.`,
    name: 'language-compatibility/positional-keyword-conflict',
});
JsiiDiagnostic.JSII_5018_RESERVED_WORD = Code.warning({
    code: 5018,
    formatter: (badName, languages) => `"${badName}" is a reserved word in ${languages.join(', ')}. Using this name may cause problems when generating language bindings. Consider a different name.`,
    name: 'language-compatibility/reserved-word',
});
JsiiDiagnostic.JSII_5019_MEMBER_TYPE_NAME_CONFLICT = Code.warning({
    code: 5019,
    formatter: (memberKind, memberSymbol, declaringType) => `The ${memberKind} name "${memberSymbol.name}" conflicts with the declaring ${declaringType.kind} "${declaringType.name}". This will result in renaming the ${declaringType.kind} to "_${declaringType.name}" in C#. Consider renaming "${memberSymbol.name}".`,
    name: 'language-compatibility/member-name-conflicts-with-type-name',
});
JsiiDiagnostic.JSII_5020_STATIC_MEMBER_CONFLICTS_WITH_NESTED_TYPE = Code.error({
    code: 5020,
    formatter: (nestingType, staticMember, nestedType) => `The static member "${nestingType.name}.${staticMember.name}" has the same PascalCased representation as nested type "${nestingType.name}.${nestedType.name}". This would result in invalid code in Go.`,
    name: 'language-compatibility/static-member-name-conflicts-with-nested-type',
});
//////////////////////////////////////////////////////////////////////////////
// 6000 => 6999 -- RESERVED
//////////////////////////////////////////////////////////////////////////////
// 7000 => 7999 -- DOCUMENTATION ERRORS
JsiiDiagnostic.JSII_7000_NON_EXISTENT_PARAMETER = Code.warning({
    code: 7000,
    formatter: (method, param) => `Documentation for method "${method.name}" refers to non-existent @param "${param}"`,
    name: 'documentation/non-existent-parameter',
});
JsiiDiagnostic.JSII_7001_ILLEGAL_HINT = Code.error({
    code: 7001,
    formatter: (hint, ...valid) => `Illegal use of "@${hint}" hint. It is only valid on ${valid.join(', ')}.`,
    name: 'documentation/illegal-hint',
});
JsiiDiagnostic.JSII_7999_DOCUMENTATION_ERROR = Code.error({
    code: 7999,
    formatter: (messageText) => messageText,
    name: 'documentation/documentation-error',
});
//////////////////////////////////////////////////////////////////////////////
// 8000 => 8999 -- JSII STYLE ENFORCEMENT
JsiiDiagnostic.JSII_8000_PASCAL_CASED_TYPE_NAMES = Code.error({
    code: 8000,
    formatter: (badName) => `Type names must be CamelCased. Rename "${badName}" to "${case_1.pascal(badName)}"`,
    name: 'code-style/type-names-must-use-pascal-case',
});
JsiiDiagnostic.JSII_8001_ALL_CAPS_ENUM_MEMBERS = Code.error({
    code: 8001,
    formatter: (badName, typeName) => `Enum members must be ALL_CAPS. Rename "${typeName}.${badName}" to "${case_1.constant(badName)}"`,
    name: 'code-style/enum-members-must-use-all-caps',
});
JsiiDiagnostic.JSII_8002_CAMEL_CASED_MEMBERS = Code.error({
    code: 8002,
    formatter: (badName, typeName) => `Method and property (unless they are static readonly) names must use camelCase. Rename "${typeName}.${badName}" to "${case_1.camel(badName)}"`,
    name: 'code-style/member-names-must-use-camel-case',
});
JsiiDiagnostic.JSII_8003_STATIC_CONST_CASING = Code.error({
    code: 8003,
    formatter: (badName, typeName) => `Static constant names must use ALL_CAPS, PascalCase, or camelCase. Rename "${typeName}.${badName}" to "${case_1.constant(badName)}"`,
    name: 'code-style/static-readonly-property-casing',
});
JsiiDiagnostic.JSII_8004_SUBMOULE_NAME_CASING = Code.error({
    code: 8004,
    formatter: (badName) => `Submodule namespaces must be camelCased or snake_cased. Rename "${badName}" to ${case_1.camel(badName)}`,
    name: 'code-style/submodule-name-casing',
});
JsiiDiagnostic.JSII_8005_INTERNAL_UNDERSCORE = Code.error({
    code: 8005,
    formatter: (badName) => `Members marked with @internal must have a name starting with "_". Rename "${badName}" to "_${badName}"`,
    name: 'code-style/internal-members-underscore-prefix',
});
JsiiDiagnostic.JSII_8006_UNDERSCORE_INTERNAL = Code.error({
    code: 8006,
    formatter: (badName) => `Members with a name starting with "_" (e.g: "${badName}") must be marked @internal`,
    name: 'code-style/underscored-members-must-be-internal',
});
JsiiDiagnostic.JSII_8007_BEHAVIORAL_INTERFACE_NAME = Code.error({
    code: 8007,
    formatter: (badName) => `Interface contains behavior. Rename "${badName}" to "I${badName}"`,
    name: 'code-style/behavioral-interface-name',
});
//////////////////////////////////////////////////////////////////////////////
// 9000 => 9999 -- SURPRISING ERRORS & INFORMATIONAL MESSAGES
JsiiDiagnostic.JSII_9000_UNKNOWN_MODULE = Code.error({
    code: 9000,
    formatter: (moduleName) => `Encountered unknown module: "${moduleName}"`,
    name: 'miscellaneous/unknown-module',
});
JsiiDiagnostic.JSII_9001_TYPE_NOT_FOUND = Code.error({
    code: 9001,
    formatter: (typeRef) => `Type not found in the corresponding assembly: "${typeRef.fqn}"`,
    name: 'miscellaneous/type-not-found',
});
JsiiDiagnostic.JSII_9002_UNRESOLVEABLE_TYPE = Code.error({
    code: 9002,
    formatter: (reference) => `Unable to resolve type "${reference}". It may be @internal or not exported from the module's entry point (as configured in "package.json" as "main").`,
    name: 'miscellaneous/unresolveable-type',
});
JsiiDiagnostic.JSII_9003_UNRESOLVEABLE_MODULE = Code.error({
    code: 9003,
    formatter: (location) => `Unable to resolve module location "${location}"`,
    name: 'miscellaneous/unresolveable-module',
});
JsiiDiagnostic.JSII_9004_UNABLE_TO_COMPUTE_SIGNATURE = Code.error({
    code: 9004,
    formatter: (methodName, type) => `Unable to compute signature for method "${methodName}" of "${type.fqn}"`,
    name: 'miscellaneous/unable-to-compute-signature',
});
JsiiDiagnostic.JSII_9996_UNNECESSARY_TOKEN = Code.message({
    code: 9996,
    formatter: () => 'Unnecessary token, consider removing it',
    name: 'miscellaneous/unnecessary-token',
});
JsiiDiagnostic.JSII_9997_UNKNOWN_ERROR = Code.error({
    code: 9997,
    formatter: (error) => `Unknown error: ${error.message} -- ${error.stack}`,
    name: 'miscellaneous/unknown-error',
});
JsiiDiagnostic.JSII_9998_UNSUPPORTED_NODE = Code.message({
    code: 9998,
    formatter: (kindOrMessage) => typeof kindOrMessage === 'string'
        ? kindOrMessage
        : `Unsupported ${ts.SyntaxKind[kindOrMessage]} node. This declaration will not be accessible from other languages.`,
    name: 'miscellaneous/unsupported-node',
});
JsiiDiagnostic.JSII_9999_RELATED_INFO = Code.suggestion({
    code: 9999,
    formatter: (messageText) => messageText,
    name: 'miscellaneous/related-info',
});
function configureCategories(records) {
    for (const [code, category] of Object.entries(records)) {
        const diagCode = Code.lookup(diagnosticCode(code));
        if (!diagCode) {
            throw new Error(`Unrecognized diagnostic code '${code}'`);
        }
        diagCode.category = category;
    }
}
exports.configureCategories = configureCategories;
function diagnosticCode(str) {
    if (str.toLowerCase().startsWith('jsii')) {
        const re = /^JSII(\d+)$/i.exec(str);
        if (re) {
            return parseInt(re[1], 10);
        }
        throw new Error(`Invalid diagnostic code ${str}. A number must follow code that starts with 'JSII'`);
    }
    return str;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNpaS1kaWFnbm9zdGljLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsianNpaS1kaWFnbm9zdGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQW1DO0FBQ25DLCtCQUEwRDtBQUMxRCxpQ0FBaUM7QUFHakMsNEVBQTJFO0FBQzNFLG1DQUFtRTtBQUVuRTs7Ozs7R0FLRztBQUNILE1BQWEsSUFBSTtJQTRGZjs7Ozs7OztPQU9HO0lBQ0gsWUFDa0IsSUFBWSxFQUNaLElBQVksRUFDNUIsZUFBc0MsRUFDdEMsU0FBWTtRQUhJLFNBQUksR0FBSixJQUFJLENBQVE7UUFDWixTQUFJLEdBQUosSUFBSSxDQUFRO1FBbkI5Qiw0RUFBNEU7UUFDNUUsbUNBQWlEO1FBRWpELDRFQUE0RTtRQUM1RSw0QkFBa0M7UUFFbEMsNEVBQTRFO1FBQzVFLDZCQUFjO1FBZ0JaLHVCQUFBLElBQUksb0JBQW9CLGVBQWUsRUFBQztRQUN4Qyx1QkFBQSxJQUFJLGNBQWMsU0FBUyxFQUFDO1FBRTVCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDdkIsTUFBTSxJQUFJLEtBQUssQ0FDYix3Q0FBd0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLGNBQWMsSUFBSSxFQUFFLENBQ2xGLENBQUM7U0FDSDtRQUNELElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDdkIsTUFBTSxJQUFJLEtBQUssQ0FDYix3Q0FBd0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLGNBQWMsSUFBSSxFQUFFLENBQ2xGLENBQUM7U0FDSDtRQUNELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDL0MsQ0FBQztJQWxIRDs7T0FFRztJQUNJLE1BQU0sQ0FBQyxPQUFPLENBQXVDLEVBQzFELElBQUksRUFDSixJQUFJLEVB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LENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNiLE1BQU0sSUFBSSxLQUFLLENBQUMsaUNBQWlDLElBQUksR0FBRyxDQUFDLENBQUM7U0FDM0Q7UUFDRCxRQUFRLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztLQUM5QjtBQUNILENBQUM7QUFWRCxrREFVQztBQUVELFNBQVMsY0FBYyxDQUFDLEdBQVc7SUFDakMsSUFBSSxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ3hDLE1BQU0sRUFBRSxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEMsSUFBSSxFQUFFLEVBQUU7WUFDTixPQUFPLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDNUI7UUFDRCxNQUFNLElBQUksS0FBSyxDQUNiLDJCQUEyQixHQUFHLHFEQUFxRCxDQUNwRixDQUFDO0tBQ0g7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBzcGVjIGZyb20gJ0Bqc2lpL3NwZWMnO1xuaW1wb3J0IHsgY2FtZWwsIGNvbnN0YW50IGFzIGFsbENhcHMsIHBhc2NhbCB9IGZyb20gJ2Nhc2UnO1xuaW1wb3J0ICogYXMgdHMgZnJvbSAndHlwZXNjcmlwdCc7XG5cbmltcG9ydCB7IFR5cGVTeXN0ZW1IaW50cyB9IGZyb20gJy4vZG9jcyc7XG5pbXBvcnQgeyBXQVJOSU5HU0NPREVfRklMRV9OQU1FIH0gZnJvbSAnLi90cmFuc2Zvcm1zL2RlcHJlY2F0aW9uLXdhcm5pbmdzJztcbmltcG9ydCB7IEpTSUlfRElBR05PU1RJQ1NfQ09ERSwgX2Zvcm1hdERpYWdub3N0aWMgfSBmcm9tICcuL3V0aWxzJztcblxuLyoqXG4gKiBEZXNjcmlwdG9ycyBmb3IgYWxsIHZhbGlkIGpzaWkgZGlhZ25vc3RpYyBjb2Rlcy5cbiAqXG4gKiBUaGUgYGNhdGVnb3J5YCBvciBub24tZXJyb3IgY29kZXMgY2FuIGJlIHVwZGF0ZWQsIGZvciBleGFtcGxlIHRvIHRyZWF0XG4gKiB3YXJuaW5ncyBhcyBlcnJvcnMsIG9yIHRvIHN1cHByZXNzIGNlcnRhaW4gdW5kZXNpcmFibGUgd2FybmluZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2RlPFxuICBUIGV4dGVuZHMgRGlhZ25vc3RpY01lc3NhZ2VGb3JtYXR0ZXIgPSBEaWFnbm9zdGljTWVzc2FnZUZvcm1hdHRlcixcbj4ge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBieUNvZGU6IHsgW2NvZGU6IG51bWJlcl06IENvZGUgfSA9IHt9O1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBieU5hbWU6IHsgW25hbWU6IHN0cmluZ106IENvZGUgfSA9IHt9O1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbWVzc2FnZTxUIGV4dGVuZHMgRGlhZ25vc3RpY01lc3NhZ2VGb3JtYXR0ZXI+KHtcbiAgICBjb2RlLFxuICAgIG5hbWUsXG4gICAgZm9ybWF0dGVyLFxuICB9OiB7XG4gICAgY29kZTogbnVtYmVyO1xuICAgIGZvcm1hdHRlcjogVDtcbiAgICBuYW1lOiBzdHJpbmc7XG4gIH0pIHtcbiAgICByZXR1cm4gbmV3IENvZGU8VD4oY29kZSwgbmFtZSwgdHMuRGlhZ25vc3RpY0NhdGVnb3J5Lk1lc3NhZ2UsIGZvcm1hdHRlcik7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHN1Z2dlc3Rpb248VCBleHRlbmRzIERpYWdub3N0aWNNZXNzYWdlRm9ybWF0dGVyPih7XG4gICAgY29kZSxcbiAgICBuYW1lLFxuICAgIGZvcm1hdHRlcixcbiAgfToge1xuICAgIGNvZGU6IG51bWJlcjtcbiAgICBmb3JtYXR0ZXI6IFQ7XG4gICAgbmFtZTogc3RyaW5nO1xuICB9KSB7XG4gICAgcmV0dXJuIG5ldyBDb2RlPFQ+KGNvZGUsIG5hbWUsIHRzLkRpYWdub3N0aWNDYXRlZ29yeS5TdWdnZXN0aW9uLCBmb3JtYXR0ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB3YXJuaW5nPFQgZXh0ZW5kcyBEaWFnbm9zdGljTWVzc2FnZUZvcm1hdHRlcj4oe1xuICAgIGNvZGUsXG4gICAgbmFtZSxcbiAgICBmb3JtYXR0ZXIsXG4gIH06IHtcbiAgICBjb2RlOiBudW1iZXI7XG4gICAgZm9ybWF0dGVyOiBUO1xuICAgIG5hbWU6IHN0cmluZztcbiAgfSkge1xuICAgIHJldHVybiBuZXcgQ29kZTxUPihjb2RlLCBuYW1lLCB0cy5EaWFnbm9zdGljQ2F0ZWdvcnkuV2FybmluZywgZm9ybWF0dGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZXJyb3I8VCBleHRlbmRzIERpYWdub3N0aWNNZXNzYWdlRm9ybWF0dGVyPih7XG4gICAgY29kZSxcbiAgICBuYW1lLFxuICAgIGZvcm1hdHRlcixcbiAgfToge1xuICAgIGNvZGU6IG51bWJlcjtcbiAgICBmb3JtYXR0ZXI6IFQ7XG4gICAgbmFtZTogc3RyaW5nO1xuICB9KSB7XG4gICAgcmV0dXJuIG5ldyBDb2RlPFQ+KGNvZGUsIG5hbWUsIHRzLkRpYWdub3N0aWNDYXRlZ29yeS5FcnJvciwgZm9ybWF0dGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBkaWFnbm9zdGljIGNvZGUgYnkgY29kZSBvciBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gY29kZU9yTmFtZSB0aGUgbG9va2VkIHVwIGRpYWdub3N0aWMgY29kZSBvciBuYW1lLlxuICAgKlxuICAgKiBAcmV0dXJucyB0aGUgSnNpaURpYWdub3N0aWNDb2RlIGluc3RhbmRlLCBpZiBvbmUgZXhpc3RzLCBvciBgdW5kZWZpbmVkYFxuICAgKlxuICAgKiBAZXhwZXJpbWVudGFsIHRoaXMgbW9kdWxlIGlzIHVuZGVyIGFjdGl2ZSBkZXZlbG9wbWVudCBhbmQgdGhlIGVycm9yIGNvZGVzXG4gICAqICAgICAgICAgICAgICAgYW5kIG5hbWVzIG1heSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgbG9va3VwKGNvZGVPck5hbWU6IHN0cmluZyB8IG51bWJlcik6IENvZGUgfCB1bmRlZmluZWQge1xuICAgIGlmICh0eXBlb2YgY29kZU9yTmFtZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ5Q29kZVtjb2RlT3JOYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYnlOYW1lW2NvZGVPck5hbWVdO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxuICByZWFkb25seSAjZGVmYXVsdENhdGVnb3J5OiB0cy5EaWFnbm9zdGljQ2F0ZWdvcnk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxuICAjY2F0ZWdvcnk/OiB0cy5EaWFnbm9zdGljQ2F0ZWdvcnk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tZW1iZXItYWNjZXNzaWJpbGl0eVxuICAjZm9ybWF0dGVyOiBUO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBuZXcgZGlhZ25vc3RpYyBjb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gY29kZSAgICAgICAgICAgIHRoZSBudW1lcmljIGNvZGUgZm9yIHRoZSBkaWFnbm9zdGljXG4gICAqIEBwYXJhbSBuYW1lICAgICAgICAgICAgdGhlIHN5bWJvbGljIG5hbWUgZm9yIHRoZSBkaWFnbm9zdGljXG4gICAqIEBwYXJhbSBkZWZhdWx0Q2F0ZWdvcnkgdGhlIGRlZmF1bHQgY2F0ZWdvcnkgdGhpcyBkaWFnbm9zdGljIHJhbnNrIGluXG4gICAqIEBwYXJhbSBmb3JtYXR0ZXIgICAgICAgYSBtZXNzYWdlIGZvcm1hdHRlciBmb3IgZWFzeSBjcmVhdGlvbiBvZiBkaWFnbm9zdGljc1xuICAgKi9cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29kZTogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcsXG4gICAgZGVmYXVsdENhdGVnb3J5OiB0cy5EaWFnbm9zdGljQ2F0ZWdvcnksXG4gICAgZm9ybWF0dGVyOiBULFxuICApIHtcbiAgICB0aGlzLiNkZWZhdWx0Q2F0ZWdvcnkgPSBkZWZhdWx0Q2F0ZWdvcnk7XG4gICAgdGhpcy4jZm9ybWF0dGVyID0gZm9ybWF0dGVyO1xuXG4gICAgaWYgKGNvZGUgaW4gQ29kZS5ieUNvZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEF0dGVtcHRlZCB0byBjcmVhdGUgdHdvIGluc3RhbmNlcyBvZiAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gd2l0aCBjb2RlICR7Y29kZX1gLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG5hbWUgaW4gQ29kZS5ieU5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEF0dGVtcHRlZCB0byBjcmVhdGUgdHdvIGluc3RhbmNlcyBvZiAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gd2l0aCBuYW1lICR7bmFtZX1gLFxuICAgICAgKTtcbiAgICB9XG4gICAgQ29kZS5ieUNvZGVbY29kZV0gPSBDb2RlLmJ5TmFtZVtuYW1lXSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgZGlhZ25vc3RpYyBpcyBhIGNvbXBpbGF0aW9uIGVycm9yLiBEaWFnbm9zdGljc1xuICAgKiB3aGVyZSB0aGlzIGlzIGB0cnVlYCBjYW5ub3QgaGF2ZSB0aGVpciBgY2F0ZWdvcnlgIG92ZXJyaWRkZW4gdG8gYSBsb3dlclxuICAgKiBjYXRlZ29yeS5cbiAgICovXG4gIHB1YmxpYyBnZXQgaXNFcnJvcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4jZGVmYXVsdENhdGVnb3J5ID09PSB0cy5EaWFnbm9zdGljQ2F0ZWdvcnkuRXJyb3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRpYWdub3N0aWMgY2F0ZWdvcnkgdGhpcyBwYXJ0aWN1bGFyIGNvZGUgaXMgZmlsZWQgYXMuXG4gICAqL1xuICBwdWJsaWMgZ2V0IGNhdGVnb3J5KCk6IHRzLkRpYWdub3N0aWNDYXRlZ29yeSB7XG4gICAgcmV0dXJuIHRoaXMuI2NhdGVnb3J5ID8/IHRoaXMuI2RlZmF1bHRDYXRlZ29yeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGRpYWdub3N0aWMgY2F0ZWdvcnkgZm9yIHRoaXMgcGFydGljdWxhciBjb2RlLiBJZiBgaXNFcnJvcmAgaXNcbiAgICogYHRydWVgLCBhdHRlbXB0aW5nIHRvIHNldCBhbnl0aGluZyBvdGhlciB0aGFuIGB0cy5EaWFnbm9zdGljQ2F0ZWdvcnkuRXJyb3JgXG4gICAqIHdpbGwgcmVzdWx0IGluIGFuIGVycm9yIGJlaW5nIHRocm93LlxuICAgKlxuICAgKiBAcGFyYW0gbmV3VmFsdWUgdGhlIG5ldyBkaWFnbm9zdGljIGNhdGVnb3J5IHRvIGJlIHVzZWQuXG4gICAqL1xuICBwdWJsaWMgc2V0IGNhdGVnb3J5KG5ld1ZhbHVlOiB0cy5EaWFnbm9zdGljQ2F0ZWdvcnkpIHtcbiAgICBpZiAodGhpcy5pc0Vycm9yICYmIG5ld1ZhbHVlICE9PSB0cy5EaWFnbm9zdGljQ2F0ZWdvcnkuRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYElsbGVnYWwgYXR0ZW1wdCB0byBvdmVycmlkZSBjYXRlZ29yeSBvZiBlcnJvciAke3RoaXMuY29kZX0gdG8gJHt0cy5EaWFnbm9zdGljQ2F0ZWdvcnlbbmV3VmFsdWVdfWAsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLiNjYXRlZ29yeSA9IG5ld1ZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYEpzaWlEaWFnbm9zdGljYCBtZXNzYWdlIHdpdGhvdXQgYW55IHNvdXJjZSBjb2RlIGxvY2F0aW9uXG4gICAqIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSBhcmdzIHRoZSBhcmd1bWVudHMgdG8gdGhlIG1lc3NhZ2UgZm9ybWF0dGVyLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBJdCBpcyBwcmVmZXJyZWQgdG8gc3BlY2lmeSBhIHNvdXJjZSBjb2RlIGxvY2F0aW9uIGZvciBwcm9ibGVtXG4gICAqICAgICAgICAgICAgIG1hcmtlcnMuIFByZWZlciB0aGUgdXNlIG9mIGBjcmVhdGVgIHdoaWxlIHByb3ZpZGluZyBhIHZhbHVlXG4gICAqICAgICAgICAgICAgIGZvciB0aGUgYGxvY2F0aW9uYCBwYXJhbWV0ZXIgd2hlbmV2ZXIgcG9zc2libGUuXG4gICAqL1xuICBwdWJsaWMgY3JlYXRlRGV0YWNoZWQoLi4uYXJnczogUGFyYW1ldGVyczxUPik6IEpzaWlEaWFnbm9zdGljIHtcbiAgICByZXR1cm4gbmV3IEpzaWlEaWFnbm9zdGljKHRoaXMsIHRoaXMuI2Zvcm1hdHRlciguLi5hcmdzKSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBgSnNpaURpYWdub3N0aWNgIG1lc3NhZ2Ugd2l0aCBzb3VyY2UgY29kZSBsb2NhdGlvbiBkZW5vdGVkXG4gICAqIGJ5IHRoZSBwcm92aWRlZCBgbG9jYXRpb25gIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdGlvbiB0aGUgc291cmNlIGNvZGUgbG9jYXRpb24gYXR0YWNobWVudCBvZiB0aGUgbWVzc2FnZS5cbiAgICogQHBhcmFtIGFyZ3MgICAgIHRoZSBhcmd1bWVudHMgdG8gdGhlIG1lc3NhZ2UgZm9ybWF0dGVyLlxuICAgKi9cbiAgcHVibGljIGNyZWF0ZShsb2NhdGlvbjogdHMuTm9kZSwgLi4uYXJnczogUGFyYW1ldGVyczxUPik6IEpzaWlEaWFnbm9zdGljIHtcbiAgICByZXR1cm4gbmV3IEpzaWlEaWFnbm9zdGljKHRoaXMsIHRoaXMuI2Zvcm1hdHRlciguLi5hcmdzKSwgbG9jYXRpb24pO1xuICB9XG59XG5cbi8qKlxuICogQSBqc2lpLXNwZWNpZmljIGRpYWdub3N0aWMgZW50cnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBKc2lpRGlhZ25vc3RpYyBpbXBsZW1lbnRzIHRzLkRpYWdub3N0aWMge1xuICAvKipcbiAgICogVGhpcyBzeW1ib2wgdW5lcXVpdm9jYWxseSBpZGVudGlmaWVzIHRoZSBgSnNpaURpYWdub3N0aWNgIGRvbWFpbi5cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IERPTUFJTiA9IFN5bWJvbCgnanNpaScpO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyAwMDAxID0+IDA5OTkgLS0gUEFDS0FHRSBNRVRBREFUQSBQUk9CTEVNU1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV8wMDAxX1BLR19NSVNTSU5HX0RFU0NSSVBUSU9OID0gQ29kZS5zdWdnZXN0aW9uKHtcbiAgICBjb2RlOiAxLFxuICAgIGZvcm1hdHRlcjogKCkgPT5cbiAgICAgIGBBIFwiZGVzY3JpcHRpb25cIiBmaWVsZCBzaG91bGQgYmUgc3BlY2lmaWVkIGluIFwicGFja2FnZS5qc29uXCJgLFxuICAgIG5hbWU6ICdtZXRhZGF0YS9wYWNrYWdlLWpzb24tbWlzc2luZy1kZXNjcmlwdGlvbicsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV8wMDAyX1BLR19NSVNTSU5HX0hPTUVQQUdFID0gQ29kZS5zdWdnZXN0aW9uKHtcbiAgICBjb2RlOiAyLFxuICAgIGZvcm1hdHRlcjogKCkgPT4gYEEgXCJob21lcGFnZVwiIGZpZWxkIHNob3VsZCBiZSBzcGVjaWZpZWQgaW4gXCJwYWNrYWdlLmpzb25cImAsXG4gICAgbmFtZTogJ21ldGFkYXRhL3BhY2thZ2UtanNvbi1taXNzaW5nLWhvbWVwYWdlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzAwMDNfTUlTU0lOR19SRUFETUUgPSBDb2RlLndhcm5pbmcoe1xuICAgIGNvZGU6IDMsXG4gICAgZm9ybWF0dGVyOiAoKSA9PlxuICAgICAgYFRoZXJlIGlzIG5vIFwiUkVBRE1FLm1kXCIgZmlsZS4gSXQgaXMgcmVxdWlyZWQgaW4gb3JkZXIgdG8gZ2VuZXJhdGUgdmFsaWQgUHlQSSAoUHl0aG9uKSBwYWNrYWdlcy5gLFxuICAgIG5hbWU6ICdtZXRhZGF0YS9taXNzaW5nLXJlYWRtZScsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV8wMDA0X0NPVUxEX05PVF9GSU5EX0VOVFJZUE9JTlQgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA0LFxuICAgIGZvcm1hdHRlcjogKG1haW5GaWxlOiBzdHJpbmcpID0+IGBDb3VsZCBub3QgZmluZCBcIm1haW5cIiBmaWxlOiAke21haW5GaWxlfWAsXG4gICAgbmFtZTogJ21ldGFkYXRhL2NvdWxkLW5vdC1maW5kLWVudHJ5cG9pbnQnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMDAwNV9NSVNTSU5HX1BFRVJfREVQRU5ERU5DWSA9IENvZGUud2FybmluZyh7XG4gICAgY29kZTogNSxcbiAgICBmb3JtYXR0ZXI6IChhc3NtOiBzdHJpbmcsIHJlZmVyZW5jZTogc3RyaW5nKSA9PlxuICAgICAgYFRoZSB0eXBlIFwiJHtyZWZlcmVuY2V9XCIgaXMgZXhwb3NlZCBpbiB0aGUgcHVibGljIEFQSSBvZiB0aGlzIG1vZHVsZS4gYCArXG4gICAgICBgVGhlcmVmb3JlLCB0aGUgbW9kdWxlIFwiJHthc3NtfVwiIG11c3QgYWxzbyBiZSBkZWZpbmVkIHVuZGVyIFwicGVlckRlcGVuZGVuY2llc1wiLiBgICtcbiAgICAgICdUaGlzIHdpbGwgYmUgYXV0by1jb3JyZWN0ZWQgdW5sZXNzIC0tbm8tZml4LXBlZXItZGVwZW5kZW5jaWVzIHdhcyBzcGVjaWZpZWQuJyxcbiAgICBuYW1lOiAnbWV0YWRhdGEvbWlzc2luZy1wZWVyLWRlcGVuZGVuY3knLFxuICB9KTtcblxuICAvLyBOT1RFOiBjdXJyZW50bHkgbm90IHBvc3NpYmxlIHRvIGNoYW5nZSB0aGUgc2V2ZXJpdHkgb2YgdGhpcyBjb2RlLFxuICAvLyBhcyBpdCdzIGJlaW5nIGVtaXR0ZWQgYmVmb3JlIHRoZSBvdmVycmlkZXMgaGF2ZSBiZWVuIGxvYWRlZFxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMDAwNl9NSVNTSU5HX0RFVl9ERVBFTkRFTkNZID0gQ29kZS53YXJuaW5nKHtcbiAgICBjb2RlOiA2LFxuICAgIGZvcm1hdHRlcjogKFxuICAgICAgZGVwZW5kZW5jeU5hbWU6IHN0cmluZyxcbiAgICAgIHBlZXJSYW5nZTogc3RyaW5nLFxuICAgICAgbWluVmVyc2lvbjogc3RyaW5nLFxuICAgICAgYWN0dWFsOiBzdHJpbmcsXG4gICAgKSA9PlxuICAgICAgYEEgXCJwZWVyRGVwZW5kZW5jeVwiIG9uIFwiJHtkZXBlbmRlbmN5TmFtZX1cIiBhdCBcIiR7cGVlclJhbmdlfVwiIG1lYW5zIHlvdSBgICtcbiAgICAgIGBzaG91bGQgdGFrZSBhIFwiZGV2RGVwZW5kZW5jeVwiIG9uIFwiJHtkZXBlbmRlbmN5TmFtZX1cIiBhdCBcIiR7bWluVmVyc2lvbn1cIiBgICtcbiAgICAgIGAoZm91bmQgXCIke2FjdHVhbH1cIilcImAsXG4gICAgbmFtZTogJ21ldGFkYXRhL21pc3NpbmctZGV2LWRlcGVuZGVuY3knLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMDAwN19NSVNTSU5HX1dBUk5JTkdTX0VYUE9SVCA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDcsXG4gICAgZm9ybWF0dGVyOiAoKSA9PlxuICAgICAgJ0lmIHlvdSBhcmUgY29tcGlsaW5nIHdpdGggLS1hZGQtZGVwcmVjYXRpb24td2FybmluZ3MgYW5kIHlvdXIgcGFja2FnZS5qc29uICcgK1xuICAgICAgYGRlY2xhcmVzIHN1YnBhdGggZXhwb3J0cywgeW91IG11c3QgaW5jbHVkZSB7IFwiLi8ke1dBUk5JTkdTQ09ERV9GSUxFX05BTUV9XCI6IFwiLi8ke1dBUk5JTkdTQ09ERV9GSUxFX05BTUV9XCIgfSBgICtcbiAgICAgICdpbiB0aGUgc2V0IG9mIGV4cG9ydHMuJyxcbiAgICBuYW1lOiAnbWV0YWRhdGEvbWlzc2luZy13YXJuaW5ncy1leHBvcnQnLFxuICB9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gMTAwMCA9PiAxOTk5IC0tIFRZUEVTQ1JJUFQgTEFOR1VBR0UgUkVTVFJJQ1RJT05TXG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzEwMDBfTk9fQ09OU1RfRU5VTSA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDEwMDAsXG4gICAgZm9ybWF0dGVyOiAoKSA9PiBgRXhwb3J0ZWQgXCJjb25zdCBlbnVtXCIgZGVjbGFyYXRpb25zIGFyZSBub3QgYWxsb3dlZGAsXG4gICAgbmFtZTogJ3R5cGVzY3JpcHQtcmVzdHJpY3Rpb25zL25vLWNvbnN0LWVudW0nLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMTAwMV9UWVBFX0hBU19OT19TWU1CT0wgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiAxMDAxLFxuICAgIGZvcm1hdHRlcjogKCkgPT5cbiAgICAgIGBOb24tcHJpbWl0aXZlIHR5cGVzIHdpdGhvdXQgYSBzeW1ib2wgY2Fubm90IGJlIHByb2Nlc3NlZC5gLFxuICAgIG5hbWU6ICd0eXBlc2NyaXB0LXJlc3RyaWN0aW9ucy90eXBlLWhhcy1uby1zeW1ib2wnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMTAwMl9VTlNQRUNJRklFRF9QUk9NSVNFID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogMTAwMixcbiAgICBmb3JtYXR0ZXI6ICgpID0+IGBVbi1zcGVjaWZpZWQgcHJvbWlzZSB0eXBlLiBTcGVjaWZ5IGl0IHVzaW5nIFwiUHJvbWlzZTxUPlwiYCxcbiAgICBuYW1lOiAndHlwZXNjcmlwdC1yZXN0cmljdGlvbnMvdW5zcGVjaWZpZWQtcHJvbWlzZScsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV8xMDAzX1VOU1VQUE9SVEVEX1RZUEUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiAxMDAzLFxuICAgIGZvcm1hdHRlcjogKG1lc3NhZ2VUZXh0KSA9PiBtZXNzYWdlVGV4dCxcbiAgICBuYW1lOiAndHlwZXNjcmlwdC1yZXN0cmljdGlvbnMvdW5zdXBwb3J0ZWQtdHlwZScsXG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyAyMDAwID0+IDI5OTkgLS0gUkVTRVJWRURcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gMzAwMCA9PiAzOTk5IC0tIFRZUEUgTU9ERUwgQ09IRVJFTkNFXG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzMwMDBfRVhQT1JURURfQVBJX1VTRVNfSElEREVOX1RZUEUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiAzMDAwLFxuICAgIGZvcm1hdHRlcjogKGJhZEZxbikgPT5cbiAgICAgIGBFeHBvcnRlZCBBUElzIGNhbm5vdCB1c2UgdW4tZXhwb3J0ZWQgdHlwZSBcIiR7YmFkRnFufVwiYCxcbiAgICBuYW1lOiAndHlwZS1tb2RlbC9leHBvcnRlZC1hcGktY2Fubm90LXVzZS11bmV4cG9ydGVkLXR5cGUnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMzAwMV9FWFBPU0VEX0lOVEVSTkFMX1RZUEUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiAzMDAxLFxuICAgIGZvcm1hdHRlcjogKHN5bWJvbDogdHMuU3ltYm9sLCBpc1RoaXNUeXBlOiBib29sZWFuLCB0eXBlVXNlOiBzdHJpbmcpID0+XG4gICAgICBgVHlwZSAke1xuICAgICAgICBpc1RoaXNUeXBlID8gYFwidGhpc1wiIChha2E6IFwiJHtzeW1ib2wubmFtZX1cIilgIDogYFwiJHtzeW1ib2wubmFtZX1cImBcbiAgICAgIH0gY2Fubm90IGJlIHVzZWQgYXMgdGhlICR7dHlwZVVzZX0gYmVjYXVzZSBpdCBpcyBwcml2YXRlIG9yIEBpbnRlcm5hbGAsXG4gICAgbmFtZTogJ3R5cGUtbW9kZWwvdXNlLW9mLWludGVybmFsLXR5cGUnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMzAwMl9VU0VfT0ZfVU5FWFBPUlRFRF9GT1JFSUdOX1RZUEUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiAzMDAyLFxuICAgIGZvcm1hdHRlcjogKGZxbjogc3RyaW5nLCB0eXBlVXNlOiBzdHJpbmcsIHBrZzogeyByZWFkb25seSBuYW1lOiBzdHJpbmcgfSkgPT5cbiAgICAgIGBUeXBlIFwiJHtmcW59XCIgY2Fubm90IGJlIHVzZWQgYXMgYSAke3R5cGVVc2V9IGJlY2F1c2UgaXQgaXMgbm90IGV4cG9ydGVkIGZyb20gJHtwa2cubmFtZX1gLFxuICAgIG5hbWU6ICd0eXBlLW1vZGVsL3VuZXhwb3J0ZWQtZm9yZWlnbi10eXBlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzMwMDNfU1lNQk9MX0lTX0VYUE9SVEVEX1RXSUNFID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogMzAwMyxcbiAgICBmb3JtYXR0ZXI6IChuczE6IHN0cmluZywgbnMyOiBzdHJpbmcpID0+XG4gICAgICBgU3ltYm9sIGlzIGV4cG9ydGVkIHVuZGVyIHR3byBkaXN0aW5jdCBzdWJtb2R1bGVzOiAke25zMX0gYW5kICR7bnMyfWAsXG4gICAgbmFtZTogJ3R5cGUtbW9kZWwvc3ltYm9sLWlzLWV4cG9ydGVkLXR3aWNlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzMwMDRfSU5WQUxJRF9TVVBFUlRZUEUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiAzMDA0LFxuICAgIGZvcm1hdHRlcjogKGNsYXVzZTogdHMuSGVyaXRhZ2VDbGF1c2UsIGJhZERlY2xhcmF0aW9uOiB0cy5EZWNsYXJhdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIGBJbGxlZ2FsICR7Y2xhdXNlVHlwZShjbGF1c2UudG9rZW4pfSBjbGF1c2UgZm9yIGFuIGV4cG9ydGVkIEFQSTogJHtcbiAgICAgICAgdHMuU3ludGF4S2luZFtiYWREZWNsYXJhdGlvbi5raW5kXVxuICAgICAgfWA7XG5cbiAgICAgIGZ1bmN0aW9uIGNsYXVzZVR5cGUodG9rZW46IHRzLlN5bnRheEtpbmQpOiBzdHJpbmcge1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSB0cy5TeW50YXhLaW5kLkV4dGVuZHNLZXl3b3JkOlxuICAgICAgICAgICAgcmV0dXJuICdleHRlbmRzJztcbiAgICAgICAgICBjYXNlIHRzLlN5bnRheEtpbmQuSW1wbGVtZW50c0tleXdvcmQ6XG4gICAgICAgICAgICByZXR1cm4gJ2ltcGxlbWVudHMnO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdHMuU3ludGF4S2luZFt0b2tlbl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG5hbWU6ICd0eXBlLW1vZGVsL2ludmFsaWQtc3VwZXJ0eXBlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzMwMDVfVFlQRV9VU0VEX0FTX0lOVEVSRkFDRSA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDMwMDUsXG4gICAgZm9ybWF0dGVyOiAoYmFkVHlwZTogc3BlYy5UeXBlUmVmZXJlbmNlKSA9PlxuICAgICAgYFR5cGUgXCIke3NwZWMuZGVzY3JpYmVUeXBlUmVmZXJlbmNlKFxuICAgICAgICBiYWRUeXBlLFxuICAgICAgKX1cIiBjYW5ub3QgYmUgdXNlZCBhcyBhbiBpbnRlcmZhY2VgLFxuICAgIG5hbWU6ICd0eXBlLW1vZGVsL3R5cGUtdXNlZC1hcy1pbnRlcmZhY2UnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMzAwNl9UWVBFX1VTRURfQVNfQ0xBU1MgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiAzMDA2LFxuICAgIGZvcm1hdHRlcjogKGJhZFR5cGU6IHNwZWMuVHlwZVJlZmVyZW5jZSkgPT5cbiAgICAgIGBUeXBlIFwiJHtzcGVjLmRlc2NyaWJlVHlwZVJlZmVyZW5jZShiYWRUeXBlKX1cIiBjYW5ub3QgYmUgdXNlZCBhcyBhIGNsYXNzYCxcbiAgICBuYW1lOiAndHlwZS1tb2RlbC90eXBlLXVzZWQtYXMtY2xhc3MnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMzAwN19JTExFR0FMX1NUUlVDVF9FWFRFTlNJT04gPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiAzMDA3LFxuICAgIGZvcm1hdHRlcjogKG9mZmVuZGVyOiBzcGVjLlR5cGUsIHN0cnVjdDogc3BlYy5JbnRlcmZhY2VUeXBlKSA9PlxuICAgICAgYEF0dGVtcHQgdG8gZXh0ZW5kIG9yIGltcGxlbWVudCBzdHJ1Y3QgXCIke3N0cnVjdC5mcW59XCIgZnJvbSBcIiR7b2ZmZW5kZXIuZnFufVwiYCxcbiAgICBuYW1lOiAndHlwZS1tb2RlbC9pbGxlZ2FsLXN0cnVjdC1leHRlbnNpb24nLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfMzAwOF9TVFJVQ1RfUFJPUFNfTVVTVF9CRV9SRUFET05MWSA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDMwMDgsXG4gICAgZm9ybWF0dGVyOiAocHJvcE5hbWU6IHN0cmluZywgc3RydWN0OiBzcGVjLkludGVyZmFjZVR5cGUpID0+XG4gICAgICBgVGhlIFwiJHtwcm9wTmFtZX1cIiBwcm9wZXJ0eSBvZiBzdHJ1Y3QgXCIke3N0cnVjdC5mcW59XCIgbXVzdCBiZSBcInJlYWRvbmx5XCIuIFJlbmFtZSBcIiR7c3RydWN0LmZxbn1cIiB0byBcIkkke3N0cnVjdC5uYW1lfVwiIGlmIGl0IGlzIG1lYW50IHRvIGJlIGEgYmVoYXZpb3JhbCBpbnRlcmZhY2UuYCxcbiAgICBuYW1lOiAndHlwZS1tb2RlbC9zdHJ1Y3QtcHJvcHMtbXVzdC1iZS1yZWFkb25seScsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV8zMDA5X09QVElPTkFMX1BBUkFNRVRFUl9CRUZPUkVfUkVRVUlSRUQgPVxuICAgIENvZGUuZXJyb3Ioe1xuICAgICAgY29kZTogMzAwOSxcbiAgICAgIGZvcm1hdHRlcjogKHBhcmFtOiBzcGVjLlBhcmFtZXRlciwgbmV4dFBhcmFtOiBzcGVjLlBhcmFtZXRlcikgPT5cbiAgICAgICAgYFBhcmFtZXRlciBcIiR7cGFyYW0ubmFtZX1cIiBjYW5ub3QgYmUgb3B0aW9uYWwsIGFzIGl0IHByZWNlZGVzIHJlcXVpcmVkIHBhcmFtZXRlciBcIiR7bmV4dFBhcmFtLm5hbWV9XCJgLFxuICAgICAgbmFtZTogJ3R5cGUtbW9kZWwvb3B0aW9uYWwtcGFyYW1ldGVyLWJlZm9yZS1yZXF1aXJlZCcsXG4gICAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzM5OTlfSU5DT0hFUkVOVF9UWVBFX01PREVMID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogMzk5OSxcbiAgICBmb3JtYXR0ZXI6IChtZXNzYWdlVGV4dCkgPT4gbWVzc2FnZVRleHQsXG4gICAgbmFtZTogJ3R5cGUtbW9kZWwvaW5jb2hlcmVudC10eXBlLW1vZGVsJyxcbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIDQwMDAgPT4gNDk5OSAtLSBSRVNFUlZFRFxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyA1MDAwID0+IDU5OTkgLS0gTEFOR1VBR0UgQ09NUEFUSUJJTElUWSBFUlJPUlNcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfNTAwMF9KQVZBX0dFVFRFUlMgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA1MDAwLFxuICAgIGZvcm1hdHRlcjogKGJhZE5hbWU6IHN0cmluZywgdHlwZU5hbWU6IHN0cmluZykgPT5cbiAgICAgIGBNZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGNhbm5vdCBoYXZlIG5hbWVzIGxpa2UgXCJnZXRYeHhcIjogdGhvc2UgY29uZmxpY3Qgd2l0aCBKYXZhIHByb3BlcnR5IGdldHRlcnMuIFJlbmFtZSBcIiR7dHlwZU5hbWV9LiR7YmFkTmFtZX1cImAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvcG90ZW50aWFsLWphdmEtZ2V0dGVyLWNvbmZsaWN0JyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMDFfSkFWQV9TRVRURVJTID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNTAwMSxcbiAgICBmb3JtYXR0ZXI6IChiYWROYW1lOiBzdHJpbmcsIHR5cGVOYW1lOiBzdHJpbmcpID0+XG4gICAgICBgTWV0aG9kcyBhbmQgcHJvcGVydGllcyBjYW5ub3QgaGF2ZSBuYW1lcyBsaWtlIFwic2V0WHh4XCI6IHRob3NlIGNvbmZsaWN0IHdpdGggSmF2YSBwcm9wZXJ0eSBzZXR0ZXJzLiBSZW5hbWUgXCIke3R5cGVOYW1lfS4ke2JhZE5hbWV9XCJgLFxuICAgIG5hbWU6ICdsYW5ndWFnZS1jb21wYXRpYmlsaXR5L3BvdGVudGlhbC1qYXZhLXNldHRlci1jb25mbGljdCcsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV81MDAyX09WRVJSSURFX0NIQU5HRVNfVklTSUJJTElUWSA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDUwMDIsXG4gICAgZm9ybWF0dGVyOiAoXG4gICAgICBuZXdFbGVtZW50OiBzdHJpbmcsXG4gICAgICBhY3Rpb246IHN0cmluZyxcbiAgICAgIG5ld1ZhbHVlOiAncHJvdGVjdGVkJyB8ICdwdWJsaWMnLFxuICAgICAgb2xkVmFsdWU6ICdwcm90ZWN0ZWQnIHwgJ3B1YmxpYycsXG4gICAgKSA9PlxuICAgICAgYFwiJHtuZXdFbGVtZW50fVwiIGNoYW5nZXMgdmlzaWJpbGl0eSB0byAke25ld1ZhbHVlfSB3aGVuICR7YWN0aW9ufS4gQ2hhbmdlIGl0IHRvICR7b2xkVmFsdWV9YCxcbiAgICBuYW1lOiAnbGFuZ3VhZ2UtY29tcGF0aWJpbGl0eS9vdmVycmlkZS1jaGFuZ2VzLXZpc2liaWxpdHknLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfNTAwM19PVkVSUklERV9DSEFOR0VTX1JFVFVSTl9UWVBFID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNTAwMyxcbiAgICBmb3JtYXR0ZXI6IChcbiAgICAgIG5ld0VsZW1lbnQ6IHN0cmluZyxcbiAgICAgIGFjdGlvbjogc3RyaW5nLFxuICAgICAgbmV3VmFsdWU6IHN0cmluZyxcbiAgICAgIG9sZFZhbHVlOiBzdHJpbmcsXG4gICAgKSA9PlxuICAgICAgYFwiJHtuZXdFbGVtZW50fVwiIGNoYW5nZXMgdGhlIHJldHVybiB0eXBlIHRvIFwiJHtuZXdWYWx1ZX1cIiB3aGVuICR7YWN0aW9ufS4gQ2hhbmdlIGl0IHRvIFwiJHtvbGRWYWx1ZX1cImAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvb3ZlcnJpZGUtY2hhbmdlcy1yZXR1cm4tdHlwZScsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV81MDA0X09WRVJSSURFX0NIQU5HRVNfUFJPUF9UWVBFID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNTAwNCxcbiAgICBmb3JtYXR0ZXI6IChcbiAgICAgIG5ld0VsZW1lbnQ6IHN0cmluZyxcbiAgICAgIGFjdGlvbjogc3RyaW5nLFxuICAgICAgbmV3VHlwZTogc3BlYy5UeXBlUmVmZXJlbmNlLFxuICAgICAgb2xkVHlwZTogc3BlYy5UeXBlUmVmZXJlbmNlLFxuICAgICkgPT5cbiAgICAgIGBcIiR7bmV3RWxlbWVudH1cIiBjaGFuZ2VzIHRoZSBwcm9wZXJ0eSB0eXBlIHRvIFwiJHtzcGVjLmRlc2NyaWJlVHlwZVJlZmVyZW5jZShcbiAgICAgICAgbmV3VHlwZSxcbiAgICAgICl9XCIgd2hlbiAke2FjdGlvbn0uIENoYW5nZSBpdCB0byBcIiR7c3BlYy5kZXNjcmliZVR5cGVSZWZlcmVuY2UoXG4gICAgICAgIG9sZFR5cGUsXG4gICAgICApfVwiYCxcbiAgICBuYW1lOiAnbGFuZ3VhZ2UtY29tcGF0aWJpbGl0eS9vdmVycmlkZS1jaGFuZ2VzLXByb3BlcnR5LXR5cGUnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfNTAwNV9PVkVSUklERV9DSEFOR0VTX1BBUkFNX0NPVU5UID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNTAwNSxcbiAgICBmb3JtYXR0ZXI6IChcbiAgICAgIG5ld0VsZW1lbnQ6IHN0cmluZyxcbiAgICAgIGFjdGlvbjogc3RyaW5nLFxuICAgICAgbmV3Q291bnQ6IG51bWJlcixcbiAgICAgIG9sZENvdW50OiBudW1iZXIsXG4gICAgKSA9PlxuICAgICAgYFwiJHtuZXdFbGVtZW50fVwiIGhhcyAke25ld0NvdW50fSBwYXJhbWV0ZXJzIHdoZW4gJHthY3Rpb259LiBJdCBzaG91bGQgYWNjZXB0ICR7b2xkQ291bnR9IHBhcmFtZXRlcnNgLFxuICAgIG5hbWU6ICdsYW5ndWFnZS1jb21wYXRpYmlsaXR5L292ZXJyaWRlLWNoYW5nZXMtcGFyYW0tY291bnQnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfNTAwNl9PVkVSUklERV9DSEFOR0VTX1BBUkFNX1RZUEUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA1MDA2LFxuICAgIGZvcm1hdHRlcjogKFxuICAgICAgbmV3RWxlbWVudDogc3RyaW5nLFxuICAgICAgYWN0aW9uOiBzdHJpbmcsXG4gICAgICBuZXdQYXJhbTogc3BlYy5QYXJhbWV0ZXIsXG4gICAgICBvbGRQYXJhbTogc3BlYy5QYXJhbWV0ZXIsXG4gICAgKSA9PlxuICAgICAgYFwiJHtuZXdFbGVtZW50fVwiIGNoYW5nZXMgdGhlIHR5cGUgb2YgcGFyYW1ldGVyIFwiJHtcbiAgICAgICAgbmV3UGFyYW0ubmFtZVxuICAgICAgfVwiIHRvICR7c3BlYy5kZXNjcmliZVR5cGVSZWZlcmVuY2UoXG4gICAgICAgIG5ld1BhcmFtLnR5cGUsXG4gICAgICApfSB3aGVuICR7YWN0aW9ufS4gQ2hhbmdlIGl0IHRvICR7c3BlYy5kZXNjcmliZVR5cGVSZWZlcmVuY2UoXG4gICAgICAgIG9sZFBhcmFtLnR5cGUsXG4gICAgICApfWAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvb3ZlcnJpZGUtY2hhbmdlcy1wYXJhbS10eXBlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMDdfT1ZFUlJJREVfQ0hBTkdFU19WQVJJQURJQyA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDUwMDcsXG4gICAgZm9ybWF0dGVyOiAoXG4gICAgICBuZXdFbGVtZW50OiBzdHJpbmcsXG4gICAgICBhY3Rpb246IHN0cmluZyxcbiAgICAgIG5ld1ZhcmlhZGljID0gZmFsc2UsXG4gICAgICBvbGRWYXJpYWRpYyA9IGZhbHNlLFxuICAgICkgPT5cbiAgICAgIGBcIiR7bmV3RWxlbWVudH1cIiB0dXJucyAke1xuICAgICAgICBuZXdWYXJpYWRpYyA/ICd2YXJpYWRpYycgOiAnbm9uIHZhcmlhZGljJ1xuICAgICAgfSB3aGVuICR7YWN0aW9ufS4gTWFrZSBpdCAke29sZFZhcmlhZGljID8gJ3ZhcmlhZGljJyA6ICdub24tdmFyaWFkaWMnfWAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvb3ZlcnJpZGUtY2hhbmdlcy12YXJpYWRpYycsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV81MDA4X09WRVJSSURFX0NIQU5HRVNfUEFSQU1fT1BUSU9OQUwgPSBDb2RlLmVycm9yKFxuICAgIHtcbiAgICAgIGNvZGU6IDUwMDgsXG4gICAgICBmb3JtYXR0ZXI6IChcbiAgICAgICAgbmV3RWxlbWVudDogc3RyaW5nLFxuICAgICAgICBhY3Rpb246IHN0cmluZyxcbiAgICAgICAgbmV3UGFyYW06IHNwZWMuUGFyYW1ldGVyLFxuICAgICAgICBvbGRQYXJhbTogc3BlYy5QYXJhbWV0ZXIsXG4gICAgICApID0+XG4gICAgICAgIGBcIiR7bmV3RWxlbWVudH1cIiB0dXJucyBwYXJhbWV0ZXIgXCIke25ld1BhcmFtLm5hbWV9XCIgJHtcbiAgICAgICAgICBuZXdQYXJhbS5vcHRpb25hbCA/ICdvcHRpb25hbCcgOiAncmVxdWlyZWQnXG4gICAgICAgIH0gd2hlbiAke2FjdGlvbn0uIE1ha2UgaXQgJHtcbiAgICAgICAgICBvbGRQYXJhbS5vcHRpb25hbCA/ICdvcHRpb25hbCcgOiAncmVxdWlyZWQnXG4gICAgICAgIH1gLFxuICAgICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvb3ZlcnJpZGUtY2hhbmdlcy1wYXJhbS1vcHRpb25hbCcsXG4gICAgfSxcbiAgKTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfNTAwOV9PVkVSUklERV9DSEFOR0VTX1BST1BfT1BUSU9OQUwgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA1MDA5LFxuICAgIGZvcm1hdHRlcjogKFxuICAgICAgbmV3RWxlbWVudDogc3RyaW5nLFxuICAgICAgYWN0aW9uOiBzdHJpbmcsXG4gICAgICBuZXdPcHRpb25hbCA9IGZhbHNlLFxuICAgICAgb2xkT3B0aW9uYWwgPSBmYWxzZSxcbiAgICApID0+XG4gICAgICBgXCIke25ld0VsZW1lbnR9XCIgdHVybnMgICR7XG4gICAgICAgIG5ld09wdGlvbmFsID8gJ29wdGlvbmFsJyA6ICdyZXF1aXJlZCdcbiAgICAgIH0gd2hlbiAke2FjdGlvbn0uIE1ha2UgaXQgJHtvbGRPcHRpb25hbCA/ICdvcHRpb25hbCcgOiAncmVxdWlyZWQnfWAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvb3ZlcnJpZGUtY2hhbmdlcy1wcm9wLW9wdGlvbmFsJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMTBfT1ZFUlJJREVfQ0hBTkdFU19NVVRBQklMSVRZID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNTAxMCxcbiAgICBmb3JtYXR0ZXI6IChcbiAgICAgIG5ld0VsZW1lbnQ6IHN0cmluZyxcbiAgICAgIGFjdGlvbjogc3RyaW5nLFxuICAgICAgbmV3TXV0YWJsZSA9IGZhbHNlLFxuICAgICAgb2xkTXV0YWJsZSA9IGZhbHNlLFxuICAgICkgPT5cbiAgICAgIGBcIiR7bmV3RWxlbWVudH1cIiB0dXJucyAke1xuICAgICAgICBuZXdNdXRhYmxlID8gJ211dGFibGUnIDogJ3JlYWRvbmx5J1xuICAgICAgfSB3aGVuICR7YWN0aW9ufS4gTWFrZSBpdCAke29sZE11dGFibGUgPyAnbXV0YWJsZScgOiAncmVhZG9ubHknfWAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvb3ZlcnJpZGUtY2hhbmdlcy1tdXRhYmlsaXR5JyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMTFfU1VCTU9EVUxFX05BTUVfQ09ORkxJQ1QgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA1MDExLFxuICAgIGZvcm1hdHRlcjogKFxuICAgICAgc3VibW9kdWxlTmFtZTogc3RyaW5nLFxuICAgICAgdHlwZU5hbWU6IHN0cmluZyxcbiAgICAgIHJlc2VydmVkOiByZWFkb25seSBzdHJpbmdbXSxcbiAgICApID0+XG4gICAgICBgU3VibW9kdWxlIFwiJHtzdWJtb2R1bGVOYW1lfVwiIGNvbmZsaWN0cyB3aXRoIFwiJHt0eXBlTmFtZX0sIGFzIGRpZmZlcmVudCBsYW5ndWFnZXMgY291bGQgcmVwcmVzZW50IGl0IGFzOiAke3Jlc2VydmVkXG4gICAgICAgIC5tYXAoKHgpID0+IGBcIiR7eH1cImApXG4gICAgICAgIC5qb2luKCcsICcpfVwiYCxcbiAgICBuYW1lOiAnbGFuZ3VhZ2UtY29tcGF0aWJpbGl0eS9zdWJtb2R1bGUtbmFtZS1jb25mbGljdHMnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfNTAxMl9OQU1FU1BBQ0VfSU5fVFlQRSA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDUwMTIsXG4gICAgZm9ybWF0dGVyOiAodHlwZU5hbWU6IHN0cmluZywgbmFtZXNwYWNlTmFtZTogc3RyaW5nKSA9PlxuICAgICAgYEFsbCBlbnRpdGllcyBuZXN0ZWQgdW5kZXIgYSB0eXBlIChlLmc6IFwiJHt0eXBlTmFtZX1cIikgbXVzdCBiZSBjb25jcmV0ZSB0eXBlcywgYnV0IFwiJHtuYW1lc3BhY2VOYW1lfVwiIGlzIGEgbmFtZXNwYWNlLiBUaGlzIHN0cnVjdHVyZSBjYW5ub3QgYmUgc3VwcG9ydGVkIGluIGFsbCBsYW5ndWFnZXMgKGUuZzogSmF2YSlgLFxuICAgIG5hbWU6ICdsYW5ndWFnZS1jb21wYXRpYmlsaXR5L25hbWVzcGFjZS1pbi10eXBlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMTNfU1RBVElDX0lOU1RBTkNFX0NPTkZMSUNUID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNTAxMyxcbiAgICBmb3JtYXR0ZXI6IChtZW1iZXI6IHN0cmluZywgdHlwZTogc3BlYy5DbGFzc1R5cGUpID0+XG4gICAgICBgTWVtYmVyIFwiJHttZW1iZXJ9XCIgb2YgY2xhc3MgXCIke3R5cGUuZnFufVwiIGhhcyBib3RoIGEgc3RhdGljIGFuZCBhbiBpbnN0YW5jZSBkZWxjYXJhdGlvbmAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvc3RhdGljLWluc3RhbmNlLWNvbmZsaWN0JyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMTRfSU5IRVJJVEVEX1NUQVRJQ19DT05GTElDVCA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDUwMTQsXG4gICAgZm9ybWF0dGVyOiAoXG4gICAgICBtZW1iZXI6IHNwZWMuTWV0aG9kIHwgc3BlYy5Qcm9wZXJ0eSxcbiAgICAgIHR5cGU6IHNwZWMuQ2xhc3NUeXBlLFxuICAgICAgYmFzZU1lbWJlcjogc3BlYy5NZXRob2QgfCBzcGVjLlByb3BlcnR5LFxuICAgICAgYmFzZVR5cGU6IHNwZWMuQ2xhc3NUeXBlLFxuICAgICkgPT5cbiAgICAgIGAke21lbWJlci5zdGF0aWMgPyAnU3RhdGljJyA6ICdJbnN0YW5jZSd9IG1lbWJlciBcIiR7XG4gICAgICAgIG1lbWJlci5uYW1lXG4gICAgICB9XCIgb2YgY2xhc3MgXCIke3R5cGUuZnFufVwiIGNvbmZsaWN0cyB3aXRoICR7XG4gICAgICAgIGJhc2VNZW1iZXIuc3RhdGljID8gJ3N0YXRpYycgOiAnaW5zdGFuY2UnXG4gICAgICB9IG1lbWJlciBpbiBhbmNlc3RvciBcIiR7YmFzZVR5cGUuZnFufVwiYCxcbiAgICBuYW1lOiAnbGFuZ3VhZ2UtY29tcGF0aWJpbGl0eS9pbmhlcml0ZWQtc3RhdGljLWNvbmZsaWN0JyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMTVfUkVERUNMQVJFRF9JTlRFUkZBQ0VfTUVNQkVSID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNTAxNSxcbiAgICBmb3JtYXR0ZXI6IChtZW1iZXJOYW1lOiBzdHJpbmcsIGlmYWNlOiBzcGVjLkludGVyZmFjZVR5cGUpID0+XG4gICAgICBgSW50ZXJmYWNlIFwiJHtpZmFjZS5mcW59XCIgcmUtZGVjbGFyZXMgbWVtYmVyIFwiJHttZW1iZXJOYW1lfVwiLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgYXMgaXQgcmVzdWx0cyBpbiBpbnZhbGlkIEMjLmAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvcmVkZWNsYXJlZC1pbnRlcmZhY2UtbWVtYmVyJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMTZfUFJPSElCSVRFRF9NRU1CRVJfTkFNRSA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDUwMTYsXG4gICAgZm9ybWF0dGVyOiAoYmFkTmFtZTogc3RyaW5nKSA9PlxuICAgICAgYE1lbWJlcnMgY2Fubm90IGJlIG5hbWVkIFwiJHtiYWROYW1lfVwiIGFzIGl0IGNvbmZsaWN0cyB3aXRoIHN5bnRoZXRpYyBkZWNsYXJhdGlvbnMgaW4gc29tZSBsYW5ndWFnZXMuYCxcbiAgICBuYW1lOiAnbGFuZ3VhZ2UtY29tcGF0aWJpbGl0eS9wcm9oaWJpdGVkLW1lbWJlci1uYW1lJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzUwMTdfUE9TSVRJT05BTF9LRVlXT1JEX0NPTkZMSUNUID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNTAxNyxcbiAgICBmb3JtYXR0ZXI6IChiYWROYW1lOiBzdHJpbmcpID0+XG4gICAgICBgUGFyYW1ldGVyIG5hbWUgXCIke2JhZE5hbWV9XCIgaXMgYWxzbyB0aGUgbmFtZSBvZiBhIHByb3BlcnR5IGluIGEgc3RydWN0IHBhcmFtZXRlci4gUmVuYW1lIHRoZSBwb3NpdGlvbmFsIHBhcmFtZXRlci5gLFxuICAgIG5hbWU6ICdsYW5ndWFnZS1jb21wYXRpYmlsaXR5L3Bvc2l0aW9uYWwta2V5d29yZC1jb25mbGljdCcsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV81MDE4X1JFU0VSVkVEX1dPUkQgPSBDb2RlLndhcm5pbmcoe1xuICAgIGNvZGU6IDUwMTgsXG4gICAgZm9ybWF0dGVyOiAoYmFkTmFtZTogc3RyaW5nLCBsYW5ndWFnZXM6IHJlYWRvbmx5IHN0cmluZ1tdKSA9PlxuICAgICAgYFwiJHtiYWROYW1lfVwiIGlzIGEgcmVzZXJ2ZWQgd29yZCBpbiAke2xhbmd1YWdlcy5qb2luKFxuICAgICAgICAnLCAnLFxuICAgICAgKX0uIFVzaW5nIHRoaXMgbmFtZSBtYXkgY2F1c2UgcHJvYmxlbXMgd2hlbiBnZW5lcmF0aW5nIGxhbmd1YWdlIGJpbmRpbmdzLiBDb25zaWRlciBhIGRpZmZlcmVudCBuYW1lLmAsXG4gICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvcmVzZXJ2ZWQtd29yZCcsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV81MDE5X01FTUJFUl9UWVBFX05BTUVfQ09ORkxJQ1QgPSBDb2RlLndhcm5pbmcoe1xuICAgIGNvZGU6IDUwMTksXG4gICAgZm9ybWF0dGVyOiAoXG4gICAgICBtZW1iZXJLaW5kOiAnbWV0aG9kJyB8ICdwcm9wZXJ0eScsXG4gICAgICBtZW1iZXJTeW1ib2w6IHRzLlN5bWJvbCxcbiAgICAgIGRlY2xhcmluZ1R5cGU6IHNwZWMuVHlwZSxcbiAgICApID0+XG4gICAgICBgVGhlICR7bWVtYmVyS2luZH0gbmFtZSBcIiR7bWVtYmVyU3ltYm9sLm5hbWV9XCIgY29uZmxpY3RzIHdpdGggdGhlIGRlY2xhcmluZyAke2RlY2xhcmluZ1R5cGUua2luZH0gXCIke2RlY2xhcmluZ1R5cGUubmFtZX1cIi4gVGhpcyB3aWxsIHJlc3VsdCBpbiByZW5hbWluZyB0aGUgJHtkZWNsYXJpbmdUeXBlLmtpbmR9IHRvIFwiXyR7ZGVjbGFyaW5nVHlwZS5uYW1lfVwiIGluIEMjLiBDb25zaWRlciByZW5hbWluZyBcIiR7bWVtYmVyU3ltYm9sLm5hbWV9XCIuYCxcbiAgICBuYW1lOiAnbGFuZ3VhZ2UtY29tcGF0aWJpbGl0eS9tZW1iZXItbmFtZS1jb25mbGljdHMtd2l0aC10eXBlLW5hbWUnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfNTAyMF9TVEFUSUNfTUVNQkVSX0NPTkZMSUNUU19XSVRIX05FU1RFRF9UWVBFID1cbiAgICBDb2RlLmVycm9yKHtcbiAgICAgIGNvZGU6IDUwMjAsXG4gICAgICBmb3JtYXR0ZXI6IChcbiAgICAgICAgbmVzdGluZ1R5cGU6IHNwZWMuVHlwZSxcbiAgICAgICAgc3RhdGljTWVtYmVyOiBzcGVjLlByb3BlcnR5IHwgc3BlYy5NZXRob2QgfCBzcGVjLkVudW1NZW1iZXIsXG4gICAgICAgIG5lc3RlZFR5cGU6IHNwZWMuVHlwZSxcbiAgICAgICkgPT5cbiAgICAgICAgYFRoZSBzdGF0aWMgbWVtYmVyIFwiJHtuZXN0aW5nVHlwZS5uYW1lfS4ke3N0YXRpY01lbWJlci5uYW1lfVwiIGhhcyB0aGUgc2FtZSBQYXNjYWxDYXNlZCByZXByZXNlbnRhdGlvbiBhcyBuZXN0ZWQgdHlwZSBcIiR7bmVzdGluZ1R5cGUubmFtZX0uJHtuZXN0ZWRUeXBlLm5hbWV9XCIuIFRoaXMgd291bGQgcmVzdWx0IGluIGludmFsaWQgY29kZSBpbiBHby5gLFxuICAgICAgbmFtZTogJ2xhbmd1YWdlLWNvbXBhdGliaWxpdHkvc3RhdGljLW1lbWJlci1uYW1lLWNvbmZsaWN0cy13aXRoLW5lc3RlZC10eXBlJyxcbiAgICB9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gNjAwMCA9PiA2OTk5IC0tIFJFU0VSVkVEXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIDcwMDAgPT4gNzk5OSAtLSBET0NVTUVOVEFUSU9OIEVSUk9SU1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV83MDAwX05PTl9FWElTVEVOVF9QQVJBTUVURVIgPSBDb2RlLndhcm5pbmcoe1xuICAgIGNvZGU6IDcwMDAsXG4gICAgZm9ybWF0dGVyOiAobWV0aG9kOiBzcGVjLk1ldGhvZCwgcGFyYW06IHN0cmluZykgPT5cbiAgICAgIGBEb2N1bWVudGF0aW9uIGZvciBtZXRob2QgXCIke21ldGhvZC5uYW1lfVwiIHJlZmVycyB0byBub24tZXhpc3RlbnQgQHBhcmFtIFwiJHtwYXJhbX1cImAsXG4gICAgbmFtZTogJ2RvY3VtZW50YXRpb24vbm9uLWV4aXN0ZW50LXBhcmFtZXRlcicsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV83MDAxX0lMTEVHQUxfSElOVCA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDcwMDEsXG4gICAgZm9ybWF0dGVyOiAoaGludDoga2V5b2YgVHlwZVN5c3RlbUhpbnRzLCAuLi52YWxpZDogcmVhZG9ubHkgc3RyaW5nW10pID0+XG4gICAgICBgSWxsZWdhbCB1c2Ugb2YgXCJAJHtoaW50fVwiIGhpbnQuIEl0IGlzIG9ubHkgdmFsaWQgb24gJHt2YWxpZC5qb2luKFxuICAgICAgICAnLCAnLFxuICAgICAgKX0uYCxcbiAgICBuYW1lOiAnZG9jdW1lbnRhdGlvbi9pbGxlZ2FsLWhpbnQnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfNzk5OV9ET0NVTUVOVEFUSU9OX0VSUk9SID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogNzk5OSxcbiAgICBmb3JtYXR0ZXI6IChtZXNzYWdlVGV4dCkgPT4gbWVzc2FnZVRleHQsXG4gICAgbmFtZTogJ2RvY3VtZW50YXRpb24vZG9jdW1lbnRhdGlvbi1lcnJvcicsXG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyA4MDAwID0+IDg5OTkgLS0gSlNJSSBTVFlMRSBFTkZPUkNFTUVOVFxuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV84MDAwX1BBU0NBTF9DQVNFRF9UWVBFX05BTUVTID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogODAwMCxcbiAgICBmb3JtYXR0ZXI6IChiYWROYW1lOiBzdHJpbmcpID0+XG4gICAgICBgVHlwZSBuYW1lcyBtdXN0IGJlIENhbWVsQ2FzZWQuIFJlbmFtZSBcIiR7YmFkTmFtZX1cIiB0byBcIiR7cGFzY2FsKFxuICAgICAgICBiYWROYW1lLFxuICAgICAgKX1cImAsXG4gICAgbmFtZTogJ2NvZGUtc3R5bGUvdHlwZS1uYW1lcy1tdXN0LXVzZS1wYXNjYWwtY2FzZScsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV84MDAxX0FMTF9DQVBTX0VOVU1fTUVNQkVSUyA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDgwMDEsXG4gICAgZm9ybWF0dGVyOiAoYmFkTmFtZTogc3RyaW5nLCB0eXBlTmFtZTogc3RyaW5nKSA9PlxuICAgICAgYEVudW0gbWVtYmVycyBtdXN0IGJlIEFMTF9DQVBTLiBSZW5hbWUgXCIke3R5cGVOYW1lfS4ke2JhZE5hbWV9XCIgdG8gXCIke2FsbENhcHMoXG4gICAgICAgIGJhZE5hbWUsXG4gICAgICApfVwiYCxcbiAgICBuYW1lOiAnY29kZS1zdHlsZS9lbnVtLW1lbWJlcnMtbXVzdC11c2UtYWxsLWNhcHMnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfODAwMl9DQU1FTF9DQVNFRF9NRU1CRVJTID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogODAwMixcbiAgICBmb3JtYXR0ZXI6IChiYWROYW1lOiBzdHJpbmcsIHR5cGVOYW1lOiBzdHJpbmcpID0+XG4gICAgICBgTWV0aG9kIGFuZCBwcm9wZXJ0eSAodW5sZXNzIHRoZXkgYXJlIHN0YXRpYyByZWFkb25seSkgbmFtZXMgbXVzdCB1c2UgY2FtZWxDYXNlLiBSZW5hbWUgXCIke3R5cGVOYW1lfS4ke2JhZE5hbWV9XCIgdG8gXCIke2NhbWVsKFxuICAgICAgICBiYWROYW1lLFxuICAgICAgKX1cImAsXG4gICAgbmFtZTogJ2NvZGUtc3R5bGUvbWVtYmVyLW5hbWVzLW11c3QtdXNlLWNhbWVsLWNhc2UnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfODAwM19TVEFUSUNfQ09OU1RfQ0FTSU5HID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogODAwMyxcbiAgICBmb3JtYXR0ZXI6IChiYWROYW1lOiBzdHJpbmcsIHR5cGVOYW1lOiBzdHJpbmcpID0+XG4gICAgICBgU3RhdGljIGNvbnN0YW50IG5hbWVzIG11c3QgdXNlIEFMTF9DQVBTLCBQYXNjYWxDYXNlLCBvciBjYW1lbENhc2UuIFJlbmFtZSBcIiR7dHlwZU5hbWV9LiR7YmFkTmFtZX1cIiB0byBcIiR7YWxsQ2FwcyhcbiAgICAgICAgYmFkTmFtZSxcbiAgICAgICl9XCJgLFxuICAgIG5hbWU6ICdjb2RlLXN0eWxlL3N0YXRpYy1yZWFkb25seS1wcm9wZXJ0eS1jYXNpbmcnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfODAwNF9TVUJNT1VMRV9OQU1FX0NBU0lORyA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDgwMDQsXG4gICAgZm9ybWF0dGVyOiAoYmFkTmFtZTogc3RyaW5nKSA9PlxuICAgICAgYFN1Ym1vZHVsZSBuYW1lc3BhY2VzIG11c3QgYmUgY2FtZWxDYXNlZCBvciBzbmFrZV9jYXNlZC4gUmVuYW1lIFwiJHtiYWROYW1lfVwiIHRvICR7Y2FtZWwoXG4gICAgICAgIGJhZE5hbWUsXG4gICAgICApfWAsXG4gICAgbmFtZTogJ2NvZGUtc3R5bGUvc3VibW9kdWxlLW5hbWUtY2FzaW5nJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzgwMDVfSU5URVJOQUxfVU5ERVJTQ09SRSA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDgwMDUsXG4gICAgZm9ybWF0dGVyOiAoYmFkTmFtZTogc3RyaW5nKSA9PlxuICAgICAgYE1lbWJlcnMgbWFya2VkIHdpdGggQGludGVybmFsIG11c3QgaGF2ZSBhIG5hbWUgc3RhcnRpbmcgd2l0aCBcIl9cIi4gUmVuYW1lIFwiJHtiYWROYW1lfVwiIHRvIFwiXyR7YmFkTmFtZX1cImAsXG4gICAgbmFtZTogJ2NvZGUtc3R5bGUvaW50ZXJuYWwtbWVtYmVycy11bmRlcnNjb3JlLXByZWZpeCcsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV84MDA2X1VOREVSU0NPUkVfSU5URVJOQUwgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA4MDA2LFxuICAgIGZvcm1hdHRlcjogKGJhZE5hbWU6IHN0cmluZykgPT5cbiAgICAgIGBNZW1iZXJzIHdpdGggYSBuYW1lIHN0YXJ0aW5nIHdpdGggXCJfXCIgKGUuZzogXCIke2JhZE5hbWV9XCIpIG11c3QgYmUgbWFya2VkIEBpbnRlcm5hbGAsXG4gICAgbmFtZTogJ2NvZGUtc3R5bGUvdW5kZXJzY29yZWQtbWVtYmVycy1tdXN0LWJlLWludGVybmFsJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzgwMDdfQkVIQVZJT1JBTF9JTlRFUkZBQ0VfTkFNRSA9IENvZGUuZXJyb3Ioe1xuICAgIGNvZGU6IDgwMDcsXG4gICAgZm9ybWF0dGVyOiAoYmFkTmFtZTogc3RyaW5nKSA9PlxuICAgICAgYEludGVyZmFjZSBjb250YWlucyBiZWhhdmlvci4gUmVuYW1lIFwiJHtiYWROYW1lfVwiIHRvIFwiSSR7YmFkTmFtZX1cImAsXG4gICAgbmFtZTogJ2NvZGUtc3R5bGUvYmVoYXZpb3JhbC1pbnRlcmZhY2UtbmFtZScsXG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyA5MDAwID0+IDk5OTkgLS0gU1VSUFJJU0lORyBFUlJPUlMgJiBJTkZPUk1BVElPTkFMIE1FU1NBR0VTXG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzkwMDBfVU5LTk9XTl9NT0RVTEUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA5MDAwLFxuICAgIGZvcm1hdHRlcjogKG1vZHVsZU5hbWUpID0+IGBFbmNvdW50ZXJlZCB1bmtub3duIG1vZHVsZTogXCIke21vZHVsZU5hbWV9XCJgLFxuICAgIG5hbWU6ICdtaXNjZWxsYW5lb3VzL3Vua25vd24tbW9kdWxlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzkwMDFfVFlQRV9OT1RfRk9VTkQgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA5MDAxLFxuICAgIGZvcm1hdHRlcjogKHR5cGVSZWY6IHNwZWMuTmFtZWRUeXBlUmVmZXJlbmNlKSA9PlxuICAgICAgYFR5cGUgbm90IGZvdW5kIGluIHRoZSBjb3JyZXNwb25kaW5nIGFzc2VtYmx5OiBcIiR7dHlwZVJlZi5mcW59XCJgLFxuICAgIG5hbWU6ICdtaXNjZWxsYW5lb3VzL3R5cGUtbm90LWZvdW5kJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzkwMDJfVU5SRVNPTFZFQUJMRV9UWVBFID0gQ29kZS5lcnJvcih7XG4gICAgY29kZTogOTAwMixcbiAgICBmb3JtYXR0ZXI6IChyZWZlcmVuY2U6IHN0cmluZykgPT5cbiAgICAgIGBVbmFibGUgdG8gcmVzb2x2ZSB0eXBlIFwiJHtyZWZlcmVuY2V9XCIuIEl0IG1heSBiZSBAaW50ZXJuYWwgb3Igbm90IGV4cG9ydGVkIGZyb20gdGhlIG1vZHVsZSdzIGVudHJ5IHBvaW50IChhcyBjb25maWd1cmVkIGluIFwicGFja2FnZS5qc29uXCIgYXMgXCJtYWluXCIpLmAsXG4gICAgbmFtZTogJ21pc2NlbGxhbmVvdXMvdW5yZXNvbHZlYWJsZS10eXBlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzkwMDNfVU5SRVNPTFZFQUJMRV9NT0RVTEUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA5MDAzLFxuICAgIGZvcm1hdHRlcjogKGxvY2F0aW9uOiBzdHJpbmcpID0+XG4gICAgICBgVW5hYmxlIHRvIHJlc29sdmUgbW9kdWxlIGxvY2F0aW9uIFwiJHtsb2NhdGlvbn1cImAsXG4gICAgbmFtZTogJ21pc2NlbGxhbmVvdXMvdW5yZXNvbHZlYWJsZS1tb2R1bGUnLFxuICB9KTtcblxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEpTSUlfOTAwNF9VTkFCTEVfVE9fQ09NUFVURV9TSUdOQVRVUkUgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA5MDA0LFxuICAgIGZvcm1hdHRlcjogKG1ldGhvZE5hbWU6IHN0cmluZywgdHlwZTogc3BlYy5UeXBlKSA9PlxuICAgICAgYFVuYWJsZSB0byBjb21wdXRlIHNpZ25hdHVyZSBmb3IgbWV0aG9kIFwiJHttZXRob2ROYW1lfVwiIG9mIFwiJHt0eXBlLmZxbn1cImAsXG4gICAgbmFtZTogJ21pc2NlbGxhbmVvdXMvdW5hYmxlLXRvLWNvbXB1dGUtc2lnbmF0dXJlJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzk5OTZfVU5ORUNFU1NBUllfVE9LRU4gPSBDb2RlLm1lc3NhZ2Uoe1xuICAgIGNvZGU6IDk5OTYsXG4gICAgZm9ybWF0dGVyOiAoKSA9PiAnVW5uZWNlc3NhcnkgdG9rZW4sIGNvbnNpZGVyIHJlbW92aW5nIGl0JyxcbiAgICBuYW1lOiAnbWlzY2VsbGFuZW91cy91bm5lY2Vzc2FyeS10b2tlbicsXG4gIH0pO1xuXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSlNJSV85OTk3X1VOS05PV05fRVJST1IgPSBDb2RlLmVycm9yKHtcbiAgICBjb2RlOiA5OTk3LFxuICAgIGZvcm1hdHRlcjogKGVycm9yOiBFcnJvcikgPT5cbiAgICAgIGBVbmtub3duIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9IC0tICR7ZXJyb3Iuc3RhY2t9YCxcbiAgICBuYW1lOiAnbWlzY2VsbGFuZW91cy91bmtub3duLWVycm9yJyxcbiAgfSk7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBKU0lJXzk5OThfVU5TVVBQT1JURURfTk9ERSA9IENvZGUubWVzc2FnZSh7XG4gICAgY29kZTogOTk5OCxcbiAgICBmb3JtYXR0ZXI6IChraW5kT3JNZXNzYWdlOiB0cy5TeW50YXhLaW5kIHwgc3RyaW5nKSA9PlxuICAgICAgdHlwZW9mIGtpbmRPck1lc3NhZ2UgPT09ICdzdHJpbmcnXG4gICAgICAgID8ga2luZE9yTWVzc2FnZVxuICAgICAgICA6IGBVbnN1cHBvcnRlZCAke3RzLlN5bnRheEtpbmRba2luZE9yTWVzc2FnZV19IG5vZGUuIFRoaXMgZGVjbGFyYXRpb24gd2lsbCBub3QgYmUgYWNjZXNzaWJsZSBmcm9tIG90aGVyIGxhbmd1YWdlcy5gLFxuICAgIG5hbWU6ICdtaXNjZWxsYW5lb3VzL3Vuc3VwcG9ydGVkLW5vZGUnLFxuICB9KTtcblxuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBKU0lJXzk5OTlfUkVMQVRFRF9JTkZPID0gQ29kZS5zdWdnZXN0aW9uKHtcbiAgICBjb2RlOiA5OTk5LFxuICAgIGZvcm1hdHRlcjogKG1lc3NhZ2VUZXh0KSA9PiBtZXNzYWdlVGV4dCxcbiAgICBuYW1lOiAnbWlzY2VsbGFuZW91cy9yZWxhdGVkLWluZm8nLFxuICB9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgYERpYWdub3N0aWNgIGluc3RhbmNlIGlzIGEgYEpzaWlEaWFnbm9zdGljYCBvciBub3QuXG4gICAqIEBwYXJhbSBkaWFnXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGlzSnNpaURpYWdub3N0aWMoZGlhZzogdHMuRGlhZ25vc3RpYyk6IGRpYWcgaXMgSnNpaURpYWdub3N0aWMge1xuICAgIHJldHVybiAoZGlhZyBhcyB1bmtub3duIGFzIEpzaWlEaWFnbm9zdGljKS5kb21haW4gPT09IEpzaWlEaWFnbm9zdGljLkRPTUFJTjtcbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgZG9tYWluID0gSnNpaURpYWdub3N0aWMuRE9NQUlOO1xuXG4gIHB1YmxpYyByZWFkb25seSBjYXRlZ29yeTogdHMuRGlhZ25vc3RpY0NhdGVnb3J5O1xuICBwdWJsaWMgcmVhZG9ubHkgY29kZTogbnVtYmVyID0gSlNJSV9ESUFHTk9TVElDU19DT0RFO1xuICBwdWJsaWMgcmVhZG9ubHkganNpaUNvZGU6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IG1lc3NhZ2VUZXh0OiBzdHJpbmcgfCB0cy5EaWFnbm9zdGljTWVzc2FnZUNoYWluO1xuXG4gIHB1YmxpYyByZWFkb25seSBmaWxlOiB0cy5Tb3VyY2VGaWxlIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhcnQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gIHB1YmxpYyByZWFkb25seSByZWxhdGVkSW5mb3JtYXRpb24gPVxuICAgIG5ldyBBcnJheTx0cy5EaWFnbm9zdGljUmVsYXRlZEluZm9ybWF0aW9uPigpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbWVtYmVyLWFjY2Vzc2liaWxpdHlcbiAgI2Zvcm1hdHRlZD86IHN0cmluZztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBgSnNpaURpYWdub3N0aWNgIHdpdGggdGhlIHByb3ZpZGVkIHByb3BlcnRpZXMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIGNvZGU6IENvZGUsXG4gICAgbWVzc2FnZVRleHQ6IHN0cmluZyB8IHRzLkRpYWdub3N0aWNNZXNzYWdlQ2hhaW4sXG4gICAgbG9jYXRpb24/OiB0cy5Ob2RlLFxuICApIHtcbiAgICB0aGlzLmNhdGVnb3J5ID0gY29kZS5jYXRlZ29yeTtcbiAgICB0aGlzLmpzaWlDb2RlID0gY29kZS5jb2RlO1xuICAgIHRoaXMubWVzc2FnZVRleHQgPSBtZXNzYWdlVGV4dDtcblxuICAgIGlmIChsb2NhdGlvbiAhPSBudWxsKSB7XG4gICAgICB0aGlzLmZpbGUgPSBsb2NhdGlvbi5nZXRTb3VyY2VGaWxlKCk7XG4gICAgICB0aGlzLnN0YXJ0ID0gbG9jYXRpb24uZ2V0U3RhcnQodGhpcy5maWxlKTtcbiAgICAgIHRoaXMubGVuZ3RoID0gbG9jYXRpb24uZ2V0RW5kKCkgLSB0aGlzLnN0YXJ0O1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhZGRSZWxhdGVkSW5mb3JtYXRpb24oXG4gICAgbm9kZTogdHMuTm9kZSxcbiAgICBtZXNzYWdlOiBKc2lpRGlhZ25vc3RpY1snbWVzc2FnZVRleHQnXSxcbiAgKTogdGhpcyB7XG4gICAgdGhpcy5yZWxhdGVkSW5mb3JtYXRpb24ucHVzaChcbiAgICAgIEpzaWlEaWFnbm9zdGljLkpTSUlfOTk5OV9SRUxBVEVEX0lORk8uY3JlYXRlKG5vZGUsIG1lc3NhZ2UpLFxuICAgICk7XG4gICAgLy8gQ2xlYXJpbmcgb3V0ICNmb3JtYXR0ZWQsIGFzIHRoaXMgd291bGQgbm8gbG9uZ2VyIGJlIHRoZSBjb3JyZWN0IHN0cmluZy5cbiAgICB0aGlzLiNmb3JtYXR0ZWQgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0cyB0aGlzIGRpYWdub3N0aWMgd2l0aCBjb2xvciBhbmQgY29udGV4dCBpZiBwb3NzaWJsZSwgYW5kIHJldHVybnMgaXQuXG4gICAqIFRoZSBmb3JtYXR0ZWQgZGlhZ25vc3RpYyBpcyBjYWNoZWQsIHNvIHRoYXQgaXQgY2FuIGJlIHJlLXVzZWQuIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBkaWFnbm9zdGljIG1lc3NhZ2VzIGludm9sdmluZyB0cml2aWEgLS0gYXMgdGhlIHRyaXZpYSBtYXkgaGF2ZVxuICAgKiBiZWVuIG9ibGl0ZXJhdGVkIGZyb20gdGhlIGBTb3VyY2VGaWxlYCBieSB0aGUgYFRzQ29tbWVudFJlcGxhY2VyYCwgd2hpY2hcbiAgICogbWFrZXMgdGhlIGVycm9yIG1lc3NhZ2VzIHJlYWxseSBjb25mdXNpbmcuXG4gICAqL1xuICBwdWJsaWMgZm9ybWF0KHByb2plY3RSb290OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLiNmb3JtYXR0ZWQgPT0gbnVsbCkge1xuICAgICAgdGhpcy4jZm9ybWF0dGVkID0gX2Zvcm1hdERpYWdub3N0aWModGhpcywgcHJvamVjdFJvb3QpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy4jZm9ybWF0dGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZXMgdGhlIGZvcm1hdHRlZCBkaWFnbm9zdGljIGlzIHByZXBhcmVkIGZvciBsYXRlciByZS11c2UuXG4gICAqXG4gICAqIEByZXR1cm5zIGB0aGlzYFxuICAgKi9cbiAgcHVibGljIHByZWZvcm1hdChwcm9qZWN0Um9vdDogc3RyaW5nKTogdGhpcyB7XG4gICAgdGhpcy5mb3JtYXQocHJvamVjdFJvb3QpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIERpYWdub3N0aWNNZXNzYWdlRm9ybWF0dGVyID0gKFxuICAuLi5hcmdzOiBhbnlbXVxuKSA9PiBKc2lpRGlhZ25vc3RpY1snbWVzc2FnZVRleHQnXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZUNhdGVnb3JpZXMocmVjb3Jkczoge1xuICBbY29kZTogc3RyaW5nXTogdHMuRGlhZ25vc3RpY0NhdGVnb3J5O1xufSkge1xuICBmb3IgKGNvbnN0IFtjb2RlLCBjYXRlZ29yeV0gb2YgT2JqZWN0LmVudHJpZXMocmVjb3JkcykpIHtcbiAgICBjb25zdCBkaWFnQ29kZSA9IENvZGUubG9va3VwKGRpYWdub3N0aWNDb2RlKGNvZGUpKTtcbiAgICBpZiAoIWRpYWdDb2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBkaWFnbm9zdGljIGNvZGUgJyR7Y29kZX0nYCk7XG4gICAgfVxuICAgIGRpYWdDb2RlLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlhZ25vc3RpY0NvZGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcgfCBudW1iZXIge1xuICBpZiAoc3RyLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnanNpaScpKSB7XG4gICAgY29uc3QgcmUgPSAvXkpTSUkoXFxkKykkL2kuZXhlYyhzdHIpO1xuICAgIGlmIChyZSkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHJlWzFdLCAxMCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGRpYWdub3N0aWMgY29kZSAke3N0cn0uIEEgbnVtYmVyIG11c3QgZm9sbG93IGNvZGUgdGhhdCBzdGFydHMgd2l0aCAnSlNJSSdgLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cbiJdfQ==