"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs-extra");
const path = require("path");
const lib_1 = require("../lib");
test('cannot write before opening a file', () => {
    const sources = new lib_1.CodeMaker();
    expect(() => sources.line('Nope!'))
        .toThrow(/Cannot emit source lines without openning a file/);
});
test('source files', async () => {
    const sources = new lib_1.CodeMaker();
    sources.openFile('myfile.js');
    sources.line('first line');
    sources.openBlock('open');
    sources.line('second line');
    sources.closeBlock();
    sources.open('generic open [');
    sources.line('boom');
    sources.line('bam');
    sources.close(']');
    sources.closeFile('myfile.js');
    const yourfileRelativePath = './relative/subdirs/are/also/supported/yourfile.js';
    sources.openFile(yourfileRelativePath);
    sources.line('this is your file speaking');
    // change indentation and block chars
    sources.indentation = 10;
    sources.openBlockFormatter = s => `(--- ${s} ---`;
    sources.closeBlockFormatter = s => `--- ${s} ---)`;
    sources.openBlock('block1');
    sources.line('block1.line1');
    sources.line('block1.line2');
    sources.openBlock('block2');
    sources.line('block2.line1');
    sources.closeBlock('block2 (close)');
    sources.line('block1.line3');
    sources.closeBlock('block1 (close)');
    sources.closeFile(yourfileRelativePath);
    // files can also be excluded by adding their path to exclude()
    sources.openFile('excluded.txt');
    sources.line('this file will not be emitted in save()');
    sources.closeFile('excluded.txt');
    // later in the day
    sources.exclude('excluded.txt');
    const dirname = await fs.mkdtemp('/tmp/source-files');
    const files = await sources.save(dirname);
    expect(files).toHaveLength(2);
    const myfilePath = path.join(dirname, 'myfile.js');
    const yourfilePath = path.join(dirname, yourfileRelativePath);
    expect(files[0]).toBe(myfilePath);
    expect(files[1]).toBe(yourfilePath);
    const myfile = (await fs.readFile(files[0])).toString();
    const yourfile = (await fs.readFile(files[1])).toString();
    expect(myfile).toBe(expectedMyFile);
    expect(yourfile).toBe(expectedYourFile);
});
/**
 * Should fail if openFile and closeFile have are not matched.
 */
test('close file mismatch', () => {
    const sources = new lib_1.CodeMaker();
    sources.openFile('A');
    expect(() => sources.closeFile('B')).toThrow(/Cannot close file/);
});
test('custom multi-line block', async () => {
    const maker = new lib_1.CodeMaker();
    maker.openBlock = s => {
        maker.line(s);
        maker.open('{');
    };
    maker.openFile('custom-blocks.cpp');
    maker.openBlock('Block1()');
    maker.line('L1');
    maker.openBlock('Block2()');
    maker.line('L2');
    maker.closeBlock();
    maker.closeBlock();
    maker.closeFile('custom-blocks.cpp');
    const dirname = await fs.mkdtemp('/tmp/source-files');
    const files = await maker.save(dirname);
    const actual = (await fs.readFile(files[0])).toString();
    expect(actual).toBe(expectedCustomBlocks);
});
const expectedMyFile = `first line
open {
    second line
}
generic open [
    boom
    bam
]
`;
const expectedYourFile = `this is your file speaking
(--- block1 ---
          block1.line1
          block1.line2
          (--- block2 ---
                    block2.line1
          --- block2 (close) ---)
          block1.line3
--- block1 (close) ---)
`;
const expectedCustomBlocks = `Block1()
{
    L1
    Block2()
    {
        L2
    }
}
`;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzb3VyY2UudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtCQUErQjtBQUMvQiw2QkFBNkI7QUFDN0IsZ0NBQW1DO0FBRW5DLElBQUksQ0FBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7SUFDOUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxlQUFTLEVBQUUsQ0FBQztJQUNoQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUNoQyxPQUFPLENBQUMsa0RBQWtELENBQUMsQ0FBQztBQUNqRSxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxjQUFjLEVBQUUsS0FBSyxJQUFJLEVBQUU7SUFDOUIsTUFBTSxPQUFPLEdBQUcsSUFBSSxlQUFTLEVBQUUsQ0FBQztJQUNoQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzlCLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDM0IsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMxQixPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzVCLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDL0IsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BCLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUUvQixNQUFNLG9CQUFvQixHQUFHLG1EQUFtRCxDQUFDO0lBQ2pGLE9BQU8sQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMs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Ozs7OztDQVF0QixDQUFDO0FBRUYsTUFBTSxnQkFBZ0IsR0FBRzs7Ozs7Ozs7O0NBU3hCLENBQUM7QUFFRixNQUFNLG9CQUFvQixHQUFHOzs7Ozs7OztDQVE1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMtZXh0cmEnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IENvZGVNYWtlciB9IGZyb20gJy4uL2xpYic7XG5cbnRlc3QoJ2Nhbm5vdCB3cml0ZSBiZWZvcmUgb3BlbmluZyBhIGZpbGUnLCAoKSA9PiB7XG4gIGNvbnN0IHNvdXJjZXMgPSBuZXcgQ29kZU1ha2VyKCk7XG4gIGV4cGVjdCgoKSA9PiBzb3VyY2VzLmxpbmUoJ05vcGUhJykpXG4gICAgLnRvVGhyb3coL0Nhbm5vdCBlbWl0IHNvdXJjZSBsaW5lcyB3aXRob3V0IG9wZW5uaW5nIGEgZmlsZS8pO1xufSk7XG5cbnRlc3QoJ3NvdXJjZSBmaWxlcycsIGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc291cmNlcyA9IG5ldyBDb2RlTWFrZXIoKTtcbiAgc291cmNlcy5vcGVuRmlsZSgnbXlmaWxlLmpzJyk7XG4gIHNvdXJjZXMubGluZSgnZmlyc3QgbGluZScpO1xuICBzb3VyY2VzLm9wZW5CbG9jaygnb3BlbicpO1xuICBzb3VyY2VzLmxpbmUoJ3NlY29uZCBsaW5lJyk7XG4gIHNvdXJjZXMuY2xvc2VCbG9jaygpO1xuICBzb3VyY2VzLm9wZW4oJ2dlbmVyaWMgb3BlbiBbJyk7XG4gIHNvdXJjZXMubGluZSgnYm9vbScpO1xuICBzb3VyY2VzLmxpbmUoJ2JhbScpO1xuICBzb3VyY2VzLmNsb3NlKCddJyk7XG4gIHNvdXJjZXMuY2xvc2VGaWxlKCdteWZpbGUuanMnKTtcblxuICBjb25zdCB5b3VyZmlsZVJlbGF0aXZlUGF0aCA9ICcuL3JlbGF0aXZlL3N1YmRpcnMvYXJlL2Fsc28vc3VwcG9ydGVkL3lvdXJmaWxlLmpzJztcbiAgc291cmNlcy5vcGVuRmlsZSh5b3VyZmlsZVJlbGF0aXZlUGF0aCk7XG4gIHNvdXJjZXMubGluZSgndGhpcyBpcyB5b3VyIGZpbGUgc3BlYWtpbmcnKTtcblxuICAvLyBjaGFuZ2UgaW5kZW50YXRpb24gYW5kIGJsb2NrIGNoYXJzXG4gIHNvdXJjZXMuaW5kZW50YXRpb24gPSAxMDtcbiAgc291cmNlcy5vcGVuQmxvY2tGb3JtYXR0ZXIgPSBzID0+IGAoLS0tICR7c30gLS0tYDtcbiAgc291cmNlcy5jbG9zZUJsb2NrRm9ybWF0dGVyID0gcyA9PiBgLS0tICR7c30gLS0tKWA7XG5cbiAgc291cmNlcy5vcGVuQmxvY2soJ2Jsb2NrMScpO1xuICBzb3VyY2VzLmxpbmUoJ2Jsb2NrMS5saW5lMScpO1xuICBzb3VyY2VzLmxpbmUoJ2Jsb2NrMS5saW5lMicpO1xuICBzb3VyY2VzLm9wZW5CbG9jaygnYmxvY2syJyk7XG4gIHNvdXJjZXMubGluZSgnYmxvY2syLmxpbmUxJyk7XG4gIHNvdXJjZXMuY2xvc2VCbG9jaygnYmxvY2syIChjbG9zZSknKTtcbiAgc291cmNlcy5saW5lKCdibG9jazEubGluZTMnKTtcbiAgc291cmNlcy5jbG9zZUJsb2NrKCdibG9jazEgKGNsb3NlKScpO1xuXG4gIHNvdXJjZXMuY2xvc2VGaWxlKHlvdXJmaWxlUmVsYXRpdmVQYXRoKTtcblxuICAvLyBmaWxlcyBjYW4gYWxzbyBiZSBleGNsdWRlZCBieSBhZGRpbmcgdGhlaXIgcGF0aCB0byBleGNsdWRlKClcbiAgc291cmNlcy5vcGVuRmlsZSgnZXhjbHVkZWQudHh0Jyk7XG4gIHNvdXJjZXMubGluZSgndGhpcyBmaWxlIHdpbGwgbm90IGJlIGVtaXR0ZWQgaW4gc2F2ZSgpJyk7XG4gIHNvdXJjZXMuY2xvc2VGaWxlKCdleGNsdWRlZC50eHQnKTtcblxuICAvLyBsYXRlciBpbiB0aGUgZGF5XG4gIHNvdXJjZXMuZXhjbHVkZSgnZXhjbHVkZWQudHh0Jyk7XG5cbiAgY29uc3QgZGlybmFtZSA9IGF3YWl0IGZzLm1rZHRlbXAoJy90bXAvc291cmNlLWZpbGVzJyk7XG4gIGNvbnN0IGZpbGVzID0gYXdhaXQgc291cmNlcy5zYXZlKGRpcm5hbWUpO1xuXG4gIGV4cGVjdChmaWxlcykudG9IYXZlTGVuZ3RoKDIpO1xuXG4gIGNvbnN0IG15ZmlsZVBhdGggPSBwYXRoLmpvaW4oZGlybmFtZSwgJ215ZmlsZS5qcycpO1xuICBjb25zdCB5b3VyZmlsZVBhdGggPSBwYXRoLmpvaW4oZGlybmFtZSwgeW91cmZpbGVSZWxhdGl2ZVBhdGgpO1xuXG4gIGV4cGVjdChmaWxlc1swXSkudG9CZShteWZpbGVQYXRoKTtcbiAgZXhwZWN0KGZpbGVzWzFdKS50b0JlKHlvdXJmaWxlUGF0aCk7XG5cbiAgY29uc3QgbXlmaWxlID0gKGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVzWzBdKSkudG9TdHJpbmcoKTtcbiAgY29uc3QgeW91cmZpbGUgPSAoYXdhaXQgZnMucmVhZEZpbGUoZmlsZXNbMV0pKS50b1N0cmluZygpO1xuXG4gIGV4cGVjdChteWZpbGUpLnRvQmUoZXhwZWN0ZWRNeUZpbGUpO1xuICBleHBlY3QoeW91cmZpbGUpLnRvQmUoZXhwZWN0ZWRZb3VyRmlsZSk7XG59KTtcblxuLyoqXG4gKiBTaG91bGQgZmFpbCBpZiBvcGVuRmlsZSBhbmQgY2xvc2VGaWxlIGhhdmUgYXJlIG5vdCBtYXRjaGVkLlxuICovXG50ZXN0KCdjbG9zZSBmaWxlIG1pc21hdGNoJywgKCkgPT4ge1xuICBjb25zdCBzb3VyY2VzID0gbmV3IENvZGVNYWtlcigpO1xuICBzb3VyY2VzLm9wZW5GaWxlKCdBJyk7XG4gIGV4cGVjdCgoKSA9PiBzb3VyY2VzLmNsb3NlRmlsZSgnQicpKS50b1Rocm93KC9DYW5ub3QgY2xvc2UgZmlsZS8pO1xufSk7XG5cbnRlc3QoJ2N1c3RvbSBtdWx0aS1saW5lIGJsb2NrJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBtYWtlciA9IG5ldyBDb2RlTWFrZXIoKTtcblxuICBtYWtlci5vcGVuQmxvY2sgPSBzID0+IHtcbiAgICBtYWtlci5saW5lKHMpO1xuICAgIG1ha2VyLm9wZW4oJ3snKTtcbiAgfTtcblxuICBtYWtlci5vcGVuRmlsZSgnY3VzdG9tLWJsb2Nrcy5jcHAnKTtcbiAgbWFrZXIub3BlbkJsb2NrKCdCbG9jazEoKScpO1xuICBtYWtlci5saW5lKCdMMScpO1xuICBtYWtlci5vcGVuQmxvY2soJ0Jsb2NrMigpJyk7XG4gIG1ha2VyLmxpbmUoJ0wyJyk7XG4gIG1ha2VyLmNsb3NlQmxvY2soKTtcbiAgbWFrZXIuY2xvc2VCbG9jaygpO1xuICBtYWtlci5jbG9zZUZpbGUoJ2N1c3RvbS1ibG9ja3MuY3BwJyk7XG5cbiAgY29uc3QgZGlybmFtZSA9IGF3YWl0IGZzLm1rZHRlbXAoJy90bXAvc291cmNlLWZpbGVzJyk7XG4gIGNvbnN0IGZpbGVzID0gYXdhaXQgbWFrZXIuc2F2ZShkaXJuYW1lKTtcblxuICBjb25zdCBhY3R1YWwgPSAoYXdhaXQgZnMucmVhZEZpbGUoZmlsZXNbMF0pKS50b1N0cmluZygpO1xuXG4gIGV4cGVjdChhY3R1YWwpLnRvQmUoZXhwZWN0ZWRDdXN0b21CbG9ja3MpO1xufSk7XG5cbmNvbnN0IGV4cGVjdGVkTXlGaWxlID0gYGZpcnN0IGxpbmVcbm9wZW4ge1xuICAgIHNlY29uZCBsaW5lXG59XG5nZW5lcmljIG9wZW4gW1xuICAgIGJvb21cbiAgICBiYW1cbl1cbmA7XG5cbmNvbnN0IGV4cGVjdGVkWW91ckZpbGUgPSBgdGhpcyBpcyB5b3VyIGZpbGUgc3BlYWtpbmdcbigtLS0gYmxvY2sxIC0tLVxuICAgICAgICAgIGJsb2NrMS5saW5lMVxuICAgICAgICAgIGJsb2NrMS5saW5lMlxuICAgICAgICAgICgtLS0gYmxvY2syIC0tLVxuICAgICAgICAgICAgICAgICAgICBibG9jazIubGluZTFcbiAgICAgICAgICAtLS0gYmxvY2syIChjbG9zZSkgLS0tKVxuICAgICAgICAgIGJsb2NrMS5saW5lM1xuLS0tIGJsb2NrMSAoY2xvc2UpIC0tLSlcbmA7XG5cbmNvbnN0IGV4cGVjdGVkQ3VzdG9tQmxvY2tzID0gYEJsb2NrMSgpXG57XG4gICAgTDFcbiAgICBCbG9jazIoKVxuICAgIHtcbiAgICAgICAgTDJcbiAgICB9XG59XG5gO1xuIl19