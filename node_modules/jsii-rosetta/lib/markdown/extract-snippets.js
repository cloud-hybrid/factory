"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractTypescriptSnippetsFromMarkdown = void 0;
const cm = require("commonmark");
const markdown_1 = require("../markdown/markdown");
const replace_typescript_transform_1 = require("./replace-typescript-transform");
function extractTypescriptSnippetsFromMarkdown(markdown, location, strict) {
    const parser = new cm.Parser();
    const doc = parser.parse(markdown);
    const ret = [];
    markdown_1.visitCommonMarkTree(doc, new replace_typescript_transform_1.ReplaceTypeScriptTransform(location, strict, (ts) => {
        ret.push(ts);
        return undefined;
    }));
    return ret;
}
exports.extractTypescriptSnippetsFromMarkdown = extractTypescriptSnippetsFromMarkdown;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0cmFjdC1zbmlwcGV0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImV4dHJhY3Qtc25pcHBldHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsaUNBQWlDO0FBRWpDLG1EQUEyRDtBQUUzRCxpRkFBNEU7QUFLNUUsU0FBZ0IscUNBQXFDLENBQ25ELFFBQWdCLEVBQ2hCLFFBQXFCLEVBQ3JCLE1BQWU7SUFFZixNQUFNLE1BQU0sR0FBRyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMvQixNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRW5DLE1BQU0sR0FBRyxHQUF3QixFQUFFLENBQUM7SUFFcEMsOEJBQW1CLENBQ2pCLEdBQUcsRUFDSCxJQUFJLHlEQUEwQixDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtRQUN0RCxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2IsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUVGLE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQW5CRCxzRkFtQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjbSBmcm9tICdjb21tb25tYXJrJztcblxuaW1wb3J0IHsgdmlzaXRDb21tb25NYXJrVHJlZSB9IGZyb20gJy4uL21hcmtkb3duL21hcmtkb3duJztcbmltcG9ydCB7IFR5cGVTY3JpcHRTbmlwcGV0LCBBcGlMb2NhdGlvbiB9IGZyb20gJy4uL3NuaXBwZXQnO1xuaW1wb3J0IHsgUmVwbGFjZVR5cGVTY3JpcHRUcmFuc2Zvcm0gfSBmcm9tICcuL3JlcGxhY2UtdHlwZXNjcmlwdC10cmFuc2Zvcm0nO1xuaW1wb3J0IHsgQ29kZUJsb2NrIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCB0eXBlIFR5cGVTY3JpcHRSZXBsYWNlciA9IChjb2RlOiBUeXBlU2NyaXB0U25pcHBldCkgPT4gQ29kZUJsb2NrIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFR5cGVzY3JpcHRTbmlwcGV0c0Zyb21NYXJrZG93bihcbiAgbWFya2Rvd246IHN0cmluZyxcbiAgbG9jYXRpb246IEFwaUxvY2F0aW9uLFxuICBzdHJpY3Q6IGJvb2xlYW4sXG4pOiBUeXBlU2NyaXB0U25pcHBldFtdIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IGNtLlBhcnNlcigpO1xuICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2UobWFya2Rvd24pO1xuXG4gIGNvbnN0IHJldDogVHlwZVNjcmlwdFNuaXBwZXRbXSA9IFtdO1xuXG4gIHZpc2l0Q29tbW9uTWFya1RyZWUoXG4gICAgZG9jLFxuICAgIG5ldyBSZXBsYWNlVHlwZVNjcmlwdFRyYW5zZm9ybShsb2NhdGlvbiwgc3RyaWN0LCAodHMpID0+IHtcbiAgICAgIHJldC5wdXNoKHRzKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSksXG4gICk7XG5cbiAgcmV0dXJuIHJldDtcbn1cbiJdfQ==